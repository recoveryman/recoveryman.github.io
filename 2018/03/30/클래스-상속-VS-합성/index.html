<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>클래스 상속 VS 합성 | 회복맨</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex">
    <!-- 
        <meta name="keywords" content="" />
    
    <meta name="description" content="기능을 재사용 하는 면에서 생각해보면 클래스 상속과 합성은 많이 비슷해 보이지만 이 둘은 완전히 다른 기능입니다. 이번에는 앞에서 배운 클래스 상속과 합성에 대해 정리해보는 시간을 가져보겠습니다. 먼저 클래스 상속과 합성의 공통점부터 알아보죠.  공통점상속과 합성의 공통점은 특정 기능을 직접 구현하지 않고 사용할 수 있다는 점입니다. 예를 들어 DMB기능">
<meta property="og:type" content="article">
<meta property="og:title" content="클래스 상속 VS 합성">
<meta property="og:url" content="https://recoveryman.github.io/2018/03/30/%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D-VS-%ED%95%A9%EC%84%B1/index.html">
<meta property="og:site_name" content="회복맨">
<meta property="og:description" content="기능을 재사용 하는 면에서 생각해보면 클래스 상속과 합성은 많이 비슷해 보이지만 이 둘은 완전히 다른 기능입니다. 이번에는 앞에서 배운 클래스 상속과 합성에 대해 정리해보는 시간을 가져보겠습니다. 먼저 클래스 상속과 합성의 공통점부터 알아보죠.  공통점상속과 합성의 공통점은 특정 기능을 직접 구현하지 않고 사용할 수 있다는 점입니다. 예를 들어 DMB기능">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://recoveryman.github.io/img/all/js_image.jpg">
<meta property="article:published_time" content="2018-03-30T00:50:49.000Z">
<meta property="article:modified_time" content="2020-12-23T03:34:03.118Z">
<meta property="article:author" content="회복맨">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://recoveryman.github.io/img/all/js_image.jpg">
     -->

    

    
        <link rel="icon" href="/css/images/favicon.ico" />
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/2.0.3/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-106753263-2', 'auto');
ga('send', 'pageview');

</script>
    
    


<meta name="generator" content="Hexo 5.3.0"></head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">홈</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/JS/">JS</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/JS/js-%ED%95%99%EC%8A%B5/">js 학습</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/JS/%EB%A7%88%ED%81%AC%EC%97%85%EB%B6%80%ED%84%B0-%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94-UI/">마크업부터 시작하는 UI</a></li></ul></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about">About</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/portfolio">Portfolio</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" target="_blank" rel="noopener" href="http://recoveryman.tistory.com">Tistory</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="검색" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '포스트',
            PAGES: 'Pages',
            CATEGORIES: '카테고리',
            TAGS: '태그',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/JS/">JS</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/JS/js-%ED%95%99%EC%8A%B5/">js 학습</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/JS/js-%ED%95%99%EC%8A%B5/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">객체지향 프로그래밍</a>
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="post-클래스-상속-VS-합성" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        클래스 상속 VS 합성
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2018/03/30/%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D-VS-%ED%95%A9%EC%84%B1/" class="article-date">
            <time datetime="2018-03-30T00:50:49.000Z" itemprop="datePublished">2018-03-30</time>
        </a>
    </div>

                
            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p><img src="/img/all/js_image.jpg" alt=""></p>
<p>기능을 재사용 하는 면에서 생각해보면 클래스 상속과 합성은 많이 비슷해 보이지만 이 둘은 완전히 다른 기능입니다. 이번에는 앞에서 배운 클래스 상속과 합성에 대해 정리해보는 시간을 가져보겠습니다.</p>
<p>먼저 클래스 상속과 합성의 공통점부터 알아보죠.</p>
<p><br></p>
<h3 id="공통점"><a href="#공통점" class="headerlink" title="공통점"></a>공통점</h3><p>상속과 합성의 공통점은 특정 기능을 직접 구현하지 않고 사용할 수 있다는 점입니다. 예를 들어 DMB기능이 있는 기기를 만든다고 해보죠.</p>
<p><strong>상속을 이용하는 경우</strong><br>상속을 이용하면 DMB기능을 쉽게 재사용할 수 있게 됩니다.<br><img src="/img/postimgs/76.jpg"></p>
<blockquote><p><strong>메모</strong><br>이번 예제는 언뜻 보면 상속을 제대로 사용한 것처럼 보이지만 상속을 잘못 사용한 경우입니다. 이유는 <strong>사용 용도</strong>에서 자세히 설명하겠습니다.</p>
</blockquote>
<p><br></p>
<p><strong>합성을 이용하는 경우</strong><br>합성 역시 다음과 같이 DMB 기능을 재사용할 수 있습니다.<br><img src="/img/postimgs/77.jpg"></p>
<p><br><hr><br></p>
<h3 id="사용-용도"><a href="#사용-용도" class="headerlink" title="사용 용도"></a>사용 용도</h3><p>앞의 공통점에서 알아본 것처럼 클래스 상속과 합성을 이용하면 기능을 쉽게 재사용할 수 있습니다. 하지만 코드 재사용을 위해 무조건 이 둘을 사용해서는 안됩니다. 상황에 맞게 선택해서 사용해야 합니다. 먼저 클래스 상속의 사용 용도에 대해 알아보죠.</p>
<p><br></p>
<p><strong>클래스 상속은 이럴 때 사용해요</strong><br>앞의 DMB 예제에서 상속을 사용했는데요. 아쉽게도 상속을 잘못 사용한 경우입니다. 왜냐면 스마트폰은 DMB 기능이 없는 스마트폰도 있기 때문에 “스마트폰은 DMB이다.” 라는 패밀리 관계가 성립되지 않습니다. 이처럼 특정 기능이 필요하다고 해서 무조건 클래스 상속을 사용해서는 안 되며 반드시 다음과 같은 경우일 때만 사용해야 합니다.</p>
<ol>
<li>기능이 필요하다고 해서 무조건 상속을 사용하면 안 됩니다.</li>
<li>반드시 IS-A 관계인 패밀리 관계가 성립되어야 합니다.</li>
<li>상속은 기능을 재사용하기보다 부모 기능을 확장하기 위해 주로 사용합니다.</li>
</ol>
<p>다음은 클래스 상속을 잘 활용한 예제입니다.<br><img src="/img/postimgs/78.jpg"></p>
<p>예제를 보면 패밀리 관계를 유지하면서 기능을 계속해서 확장해 가는 걸 확인할 수 있습니다. 바로 이럴 때 사용하는 기능이 클래스 상속 입니다.</p>
<p><br></p>
<p><strong>합성은 이럴 때 사용해요</strong><br>앞의 DMB 예제의 경우 합성을 제대로 활용한 경우입니다. 왜냐면 DMB 모듈을 사용하는 기기들은 서로 패밀리 관계가 아닐 뿐더러 오직 DMB 기능만이 필요한 기기들이기 때문에 이런 경우 합성을 이용해야 합니다. 이처럼 합성은 다음과 같은 경우에 사용하면 됩니다.</p>
<ol>
<li>패밀리 관계는 무시해도 됩니다.</li>
<li>합성은 이미 구현되어 있는 기능을 빌려 쓰듯 재사용하고 싶을 때 주로 사용합니다.</li>
</ol>
<p><br><hr><br></p>
<h3 id="실무에서는-상속보다는-합성을-많이-사용합니다"><a href="#실무에서는-상속보다는-합성을-많이-사용합니다" class="headerlink" title="실무에서는 상속보다는 합성을 많이 사용합니다."></a>실무에서는 상속보다는 합성을 많이 사용합니다.</h3><p>그럼 실무에서는 상속과 합성 중 어떤 기능을 더 많이 사용할까요? 물론 상황에 따라 다르겠지만 상속보다는 합성을 더 많이 사용합니다. 이유는 지금까지 알아본 것처럼 합성은 상속이 흉내 내고 싶어도 흉내낼 수 없는 놀라운 기능 한 가지를 가지고 있기 때문입니다. 바로 합성은 실행 시점에 동작을 변경할 수 있는 동적 바인딩(dynamic binding) 기능을 가지고 있습니다.</p>
<p>동적 바인딩에 대한 이해를 돕기 위해 예를 들어 설명해 보겠습니다. 예제는 다형성 편 마지막에 풀어본 예제를 사용하겠습니다. 다음 실행화면을 우성 봐주세요. 생각 나시죠?<br><img src="/img/postimgs/79.jpg"></p>
<p>먼저 SimpleGallery 내부는 정렬기능이 전혀 구현되어 있지 않습니다. 이때 가로 정렬 버튼을 클릭하는 경우 가로 정렬 기능을 가진 객체가 SimpleGallery에 합성되어 비로소 사용됩니다. 다른 기능 역시 버튼을 누를 때 SimpleGallery에 합성되어 사용됩니다. 바로 이처럼 특정 기능을 직접 가지고 있는 게 아니라 실행한 후 기능을 갖게 되는 경우를 우리는 동적 바인딩이라고 부릅니다.</p>
<p><br><hr><br></p>
<h3 id="정리"><a href="#정리" class="headerlink" title="정리"></a>정리</h3><p>지금까지 다룬 상속과 합성의 특징을 정리하면 다음과 같습니다.</p>
<table>
<thead>
<tr>
<th><strong>클래스 상속</strong></th>
<th><strong>객체 합성</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><ol><li>반드시 패밀리 관계일 때만 사용해야 함</li><li>재사용의 목적보다 객체를 확장하고 싶은 경우에 적합</li><li>기능을 클래스 내부에 직접 구현</li></ol></td>
<td><ol><li>패밀리 관계와는 상관없이 특정 객체가 가진 기능을 재사용하고 싶은 경우</li><li>동적 바인딩 기능 구현을 위해 사용.</li><li>기능을 직접 구현하는 게 아니라 외부에 구현되어 있는 객체를 연결해서 사용</li></ol></td>
</tr>
</tbody>
</table>
<p><br><hr><br></p>
<h3 id="롤링-배너-ver-1-0-클래스-단위-코딩"><a href="#롤링-배너-ver-1-0-클래스-단위-코딩" class="headerlink" title="롤링 배너 ver 1.0: 클래스 단위 코딩"></a>롤링 배너 ver 1.0: 클래스 단위 코딩</h3><p>이번 미션에서는 가장 단순한 형태인 클래스를 활용해 롤링 배너를 만들겠습니다. 롤링 배너를 만들면서 다시 한 번 클래스의 용도와 기능을 정리하게 됩니다.</p>
<p><strong>소개 및 미리보기</strong><br>이번에 새롭게 만들 UI 요소는 롤링배너입니다. 주로 웹 페이지 사이드 부분에 위치하며 특정 시간마다 광고용 이미지를 보여주는 기능을 가지고 있습니다. 먼저 우리가 구현할 롤링배너가 어떻게 동작하는지 살펴보기 위해 아래의 모든 기능이 구현되어 있는 최종 결과물을 확인해 주세요</p>
<iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/2jzxndft/embedded/result/dark" frameborder="0" loading="lazy" allowfullscreen></iframe>
<p><a href="/file/rollingBanner_01.zip">소스코드 다운받기</a></p>
<p>실행해보면 알겠지만 2초마다 아래에서 위로 이미지가 부드럽게 롤링되는 것을 볼 수 있습니다. 마우스를 롤링배너 위에 올리거나 다시 나가더라도 롤링 효과가 멈추거나 하는 기능은 없습니다.</p>
<p><br></p>
<p><strong>요구사항</strong><br>지금부터 다음과 같이 동작하는 롤링배너를 만들어야 합니다.</p>
<ol>
<li>특정 시간마다 아래에서 위로 이미지가 부드럽게 롤딩되며 변하게 만들어 주세요.</li>
<li>모든 작업은 prototype 방식으로 클래스로 만들어 주세요.</li>
</ol>
<p>요구사항은 비교적 간단하죠? 다음으로 이번 미션의 핵심 내용 중 하나인 롤링 효과를 좀더 자세히 살펴보겠습니다.</p>
<p><br></p>
<p><strong>출력 효과</strong><br>출력 효과를 좀더 자세히 살펴보면 현재 배너는 페이드아웃(fadeOut) 효과와 함께 현재 위치에서 위쪽으로 서서히 사라집니다. 다음 배너는 페이드인(fadeIn) 효과와 함께 아래쪽에서 0위치로 서서히 등장합니다. 모든 배너는 이 롤링 효과를 적용해 출력해야 합니다.</p>
<p><br></p>
<p><strong>레이아웃 구성</strong><br>화면 레이아웃은 미리 다음과 같이 만들어 놨습니다.<br><img src="/img/postimgs/80.jpg"></p>
<p>자! 이렇게 해서 구현해야 할 롤링배너에 대해 자세히 알아봤습니다. 이제부터 할일은 자바스크립트와 jQuery를 활용해 요구사항에 맞게 롤링 배너를 만들면 됩니다. 만약 구현하기 어려운 분들은 지금부터 같이 풀이를 진행하면 됩니다. 그럼 구현을 시작해 보죠!</p>
<p><br></p>
<p><strong>용어정리</strong><br>우선 원활한 진행을 위해 화면 요소에 이름을 붙여 내용을 설명할 때 사용하겠습니다.<br><img src="/img/postimgs/81.jpg"></p>
<ul>
<li><strong>출력 화면 영역:</strong> 배너가 출력되는 영역입니다.</li>
<li><strong>현재 배너:</strong> 현재 활성화돼 있는 배너입니다.</li>
<li><strong>다음 배너:</strong> 다음으로 출력 영역이 나타날 배너입니다.</li>
</ul>
<p><br></p>
<p><strong>구현하기</strong><br>이해를 돕기 휘해 구현은 다음과 같이 4단계로 나눠 진행하겠습니다.</p>
<ol>
<li>클래스 생성 및 초기화 작업</li>
<li>첫 번째 배너 활성화</li>
<li>모션 없는 롤링 배너 구현</li>
<li>롤링 효과 적용</li>
</ol>
<p>그럼 첫 번째 단계부터 진행해 보죠.</p>
<p><br></p>
<p><strong>1. 클래스 생성 및 초기화 작업</strong><br>이번 단계에서는 롤링배너 기능을 구현할 클래스를 생성하는 작업과 롤링배너에서 사용하는 기본 요소를 초기화하는 작업을 진행합니다. 먼저 <a href="/file/rollingBanner_01.zip">소스코드</a>에 들어있는 파일을 연 후 소스 설명 순서를 따라 다음 내용을 하나씩 입력해 주세요.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 인스턴스 생성</span></span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RollingBanner</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 프로퍼티 생성 및 초기화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._init();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 요소 초기화</span></span><br><span class="line">RollingBanner.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$banners = $(<span class="string">&quot;.banner1 li&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>설명</strong></p>
<ul>
<li>6번 라인: 가장 먼저 메서드와 프로퍼티를 담을 클래스를 만듭니다. 여기에서는 <code>RollingBanner</code>라는 이름으로 클래스를 만들어 줍니다.</li>
<li>8번 라인: 배너 목록을 담을 <code>_$banners</code>라는 프로퍼티를 만들어 줍니다. 객체 내부에서만 사용할 프로퍼티이기 때문에 private이라는 의미로 언더바(_)를 붙여 줍니다.</li>
<li>14번 라인: 롤링배너 내부에서 공용으로 사용할 요소들의 초기화를 전문으로 하는 <code>_init()</code> 메서드를 만든 후 배터를 찾아 <code>_$banners</code>에 넣어줍니다. <code>_init()</code> 메서드 역시 객체 내부에서만 사용할 메서드이기 때문에 private 메서드라는 의미로 언더바(_)를 붙여줍니다.</li>
</ul>
<p>참고로 앞으로 등장하는 코드에서 언더바(_)가 붙은 경우는 객체 외부에서 접근이 불가능한 private 또는 protected 요소라고 생각하면 됩니다. 이와 달리 언더바가 붙어있지 않은 경우 객체 외부에서나 내부에서 모두 접근 가능한 public 요소라고 판단하면 됩니다. 언더바를 붙이는 표현법은 <a href="/2018/02/16/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%BA%A1%EC%8A%90%ED%99%94-%EC%86%8C%EA%B0%9C/" title="[객체지향 프로그래밍 특징] 캡슐화 소개">[객체지향 프로그래밍 특징] 캡슐화 소개</a>, <a href="/2018/02/16/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C%EC%9D%98-%EC%BA%A1%EC%8A%90%ED%99%94/" title="[객체지향 프로그래밍 특징] 자바스크립트에서의 캡슐화">[객체지향 프로그래밍 특징] 자바스크립트에서의 캡슐화</a> 의 내용을 참고하세요.</p>
<ul>
<li>10번 라인: 롤링배너 객체가 생성될 때 <code>_init()</code> 메서드를 호출해 줍니다.</li>
<li>3번 라인: 클래스가 정상적으로 동작하는지 확인하기 위해 RollingBanner 클래스의 인스턴스를 생성해 줍니다.</li>
</ul>
<p><a href="/file/rollingBanner_01_풀이.zip">소스코드 다운받기</a></p>
<p><br></p>
<p><strong>2. 첫 번째 배너 활성화</strong><br>이번 단계에서 구현할 내용은 시작 시 첫 번째 배너만을 활성화(보이게)하고 나머지 배너들은 비활성화(보이지 않게) 하는 작업입니다.</p>
<figure class="highlight js"><figcaption><span>[javascript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 인스턴스 생성</span></span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RollingBanner</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 프로퍼티 생성 및 초기화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._init();</span><br><span class="line">    <span class="built_in">this</span>._initBannerPos();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 요소 초기화</span></span><br><span class="line">RollingBanner.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$banners = $(<span class="string">&quot;.banner1 li&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 배너 위치 초기화</span></span><br><span class="line">RollingBanner.prototype._initBannerPos = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 배너 위치를 화면에서 보이지 않게 숨기기</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.css(<span class="string">&quot;top&quot;</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 0번째 배너 활성화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex).css(<span class="string">&quot;top&quot;</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><figcaption><span>[css]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.rolling_banner</span>&#123;</span><br><span class="line">    <span class="comment">/* 테스트를 위해 주석 처리 overflow:hidden; */</span></span><br><span class="line">    <span class="attribute">position</span>:absolute;<span class="attribute">top</span>:<span class="number">50%</span>;<span class="attribute">left</span>:<span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin</span>:-<span class="number">100px</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">400px</span>;<span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#000</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rolling_banner</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">position</span>:absolute;<span class="attribute">top</span>:<span class="number">0</span>;<span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">400px</span>;<span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">200px</span>;<span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="comment">/* 테스트를 위해 속성 추가 */</span></span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">0.2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>설명</strong></p>
<ul>
<li>javascript - 9번 라인: 활성화된 배너의 인덱스 정보를 담을 <code>_currentIndex</code> 라는 프로퍼티를 만들어 줍니다.</li>
<li>javascript - 21번 라인: <code>_initBannerPos()</code> 라는 메서드를 신규로 만든 후 0번째 이미지를 활성화하고 나머지는 비활성화 처리하는 코드를 구현해 줍니다.</li>
<li>javascript - 12번 라인: <code>_initBannerPos()</code> 메서드를 생성자에서 호출해 줍니다.</li>
<li>css - 2번 라인: 테스트를 위해 마스크 기능을 하는 overflow 속성을 주석처리해 줍니다.</li>
<li>css - 14번 라인: 이미지 투명값도 테스트를 위해 0.2로 넣어줍니다.</li>
<li>css의 2, 14번 라인의 스타일 속성값은 구현 마지막 단계에서 주석 처리를 지워주고 투명 값은 삭제할 것입니다.</li>
</ul>
<p>코드를 모두 입력했다면 실행해보겠습니다. 정상적으로 코드를 입력했다면 실행화면 처럼 0번째 배너가 활성화 된 것을 볼 수 있을 것입니다.<br><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/w1c9bn3r/embedded/result,html,css,js/dark" frameborder="0" loading="lazy" allowfullscreen></iframe><br><a href="/file/rollingBanner_02.zip">소스코드 다운받기</a></p>
<p><br></p>
<p><strong>3. 모션 없는 롤링배너 구현</strong><br>롤링배너의 핵심은 무한 루프를 돌며 특정 시간마다 배너를 순차적으로 변경해주는 로직입니다. 예를 들어 배너가 5개인 경우 다음과 같이 현재 배너 인덱스 값과 다음 배너 인덱스 값을 만들어 낼 줄 알아야 합니다.</p>
<table>
<thead>
<tr>
<th><strong>현재 배너 인덱스</strong></th>
<th><strong>다음 배너 인덱스</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>이렇게 인덱스 값을 구할 수 있다면 다음 작업은 아주 간단합니다. 인덱스에 맞는 배너를 접근해 현재 배너는 활성화에서 비활성화 상태로 변경하고 다음 배너는 비활성화에서 활성화 상태로 만들어 주기만 하면 됩니다.</p>
<p>지금까지 설명을 소스 코드로 표현하면 다음과 같습니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 인스턴스 생성</span></span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RollingBanner</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 프로퍼티 생성 및 초기화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// step #03</span></span><br><span class="line">    <span class="built_in">this</span>._timerID = -<span class="number">1</span>; </span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._init();</span><br><span class="line">    <span class="built_in">this</span>._initBannerPos();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// step #03</span></span><br><span class="line">    <span class="built_in">this</span>.startAutoPlay();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 요소 초기화</span></span><br><span class="line">RollingBanner.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$banners = $(<span class="string">&quot;.banner1 li&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 배너 위치 초기화</span></span><br><span class="line">RollingBanner.prototype._initBannerPos = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 배너 위치를 화면에서 보이지 않게 숨기기</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.css(<span class="string">&quot;top&quot;</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 0번째 배너 활성화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex).css(<span class="string">&quot;top&quot;</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// step #03</span></span><br><span class="line">RollingBanner.prototype.startAutoPlay = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> objThis = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 타이머가 두번 이상 실행되지 않게 조건 처리</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>._timerID == -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>._timerID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            objThis.nextBanner();</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 다음 배너 활성화</span></span><br><span class="line">RollingBanner.prototype.nextBanner = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 현재 index값 구하기</span></span><br><span class="line">    <span class="keyword">var</span> outIndex = <span class="built_in">this</span>._currentIndex;</span><br><span class="line">    <span class="comment">// 다음 배너 index값 구하기</span></span><br><span class="line">    <span class="built_in">this</span>._currentIndex++;</span><br><span class="line">    <span class="comment">// 마지막 배너까지 롤링한 경우 0번째부터 롤링될 수 있게 인덱스 값을 0으로 설정</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>._currentIndex &gt;= <span class="built_in">this</span>._$banners.length) &#123;</span><br><span class="line">        <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $outBanner = <span class="built_in">this</span>._$banners.eq(outIndex);</span><br><span class="line">    <span class="comment">// 다음 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $inBanner = <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">    $outBanner.css(&#123;</span><br><span class="line">        top: -<span class="number">200</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 나타나게 하기</span></span><br><span class="line">    $inBanner.css(&#123;</span><br><span class="line">        top: <span class="number">0</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>47번 라인: 먼저 <code>nextBanner()</code> 메서드를 신규로 만든 후 다음 배너를 활성화하는 코드를 작성해 줍니다.</li>
<li>49번 라인: 좀더 자세히 설명하면 현재 배너와 다음 배너 인덱스 값을 구합니다.</li>
<li>58번 라인: 배너 목록에서 인덱스 값에 해당하는 현재 배너와 다음 배너를 구합니다.</li>
<li>63번 라인: 현재 배너는 화면에서 사라지게 만들어 줍니다.</li>
<li>68번 라인: 다음 배너는 나타나게 만들어 줍니다.</li>
<li>11번 라인: 타이머 아이디 값을 담을 변수를 만들어 줍니다. 초깃값은 -1로 설정해 줍니다.</li>
<li>35번 라인: 신규로 <code>startAutoPlay()</code> 메서드를 추가한 후 타이머를 이용해 2초에 한 번씩 nextBanner()메서드를 호출하는 코드를 작성해 줍니다.</li>
<li>17번 라인: 배너가 무한 롤링될 수 있게 <code>startAutoPlay()</code> 메서드를 생성자에서 호출해 줍니다.</li>
</ul>
<p>코드를 모두 입력한 후 실행해 보세요. 정상적으로 코드를 입력했다면 다음 실행화면처럼 배너가 무한 롤링되는 화면을 볼 수 있을 것입니다.<br><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/yfq5jx2q/embedded/result,html,css,js/dark" frameborder="0" loading="lazy" allowfullscreen></iframe><br><a href="/file/rollingBanner_03.zip">소스코드 다운받기</a></p>
<p><br></p>
<p><strong>롤링 효과 적용</strong><br>드디어 마지막 작업이네요. 이번 단계에서 구현할 내용은 배너가 부드럽게 나타나고 사라지는 롤링 효과를 구현하는 작업입니다.<br><img src="/img/postimgs/82.jpg"><br>롤링효과는 다음과 같은 순서로 구현됩니다.<br><img src="/img/postimgs/83.jpg"><br>지금까지 설명을 코드로 표현하면 다음과 같습니다.<br><figure class="highlight js"><figcaption><span>[javascript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RollingBanner</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 프로퍼티 생성및 초기화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// step #03</span></span><br><span class="line">    <span class="built_in">this</span>._timerID = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._init();</span><br><span class="line">    <span class="built_in">this</span>._initBannerPos();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// step #03</span></span><br><span class="line">    <span class="built_in">this</span>.startAutoPlay();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 요소 초기화.</span></span><br><span class="line">RollingBanner.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$banners = $(<span class="string">&quot;.banner1 li&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 배너 위치 초기화</span></span><br><span class="line">RollingBanner.prototype._initBannerPos = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 배너 위치를 화면에서 보이지 않게 숨기기</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.css(<span class="string">&quot;top&quot;</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 0번째 배너 활성화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex).css(<span class="string">&quot;top&quot;</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// step #03</span></span><br><span class="line">RollingBanner.prototype.startAutoPlay = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> objThis = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 타이머가 두번 이상 실행되지 않게 조건 처리</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._timerID == -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>._timerID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            objThis.nextBanner();</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// step #03</span></span><br><span class="line"><span class="comment">// 다음 배너 활성화</span></span><br><span class="line">RollingBanner.prototype.nextBanner = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 index값 구하기</span></span><br><span class="line">    <span class="keyword">var</span> outIndex = <span class="built_in">this</span>._currentIndex;</span><br><span class="line">    <span class="comment">// 다음 배너 index값 구하기</span></span><br><span class="line">    <span class="built_in">this</span>._currentIndex++;</span><br><span class="line">    <span class="comment">// 마지막 배너까지 롤링한 경우 다시 0번째부터 롤링될 수 있게 인덱스 값을 0으로 설정</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._currentIndex &gt;= <span class="built_in">this</span>._$banners.length) &#123;</span><br><span class="line">        <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $outBanner = <span class="built_in">this</span>._$banners.eq(outIndex);</span><br><span class="line">    <span class="comment">// 다음 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $inBanner = <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    // 현재 배너 사라지게 하기</span></span><br><span class="line"><span class="comment">    $outBanner.css(&#123;</span></span><br><span class="line"><span class="comment">        top: -200</span></span><br><span class="line"><span class="comment">    &#125;);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    // 현재 배너 나타나게 하기</span></span><br><span class="line"><span class="comment">    $inBanner.css(&#123;</span></span><br><span class="line"><span class="comment">        top: 0</span></span><br><span class="line"><span class="comment">    &#125;);</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 롤링 준비-다음 배너 위치 초기화</span></span><br><span class="line">    $inBanner.css(&#123;</span><br><span class="line">        top:<span class="number">200</span>,</span><br><span class="line">        opacity:<span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">    $outBanner.stop().animate(&#123;</span><br><span class="line">        top:-<span class="number">200</span>,</span><br><span class="line">        opacity:<span class="number">0</span></span><br><span class="line">    &#125;,<span class="number">600</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">    $inBanner.stop().animate(&#123;</span><br><span class="line">        top:<span class="number">0</span>,</span><br><span class="line">        opacity:<span class="number">1</span></span><br><span class="line">    &#125;,<span class="number">600</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><figure class="highlight css"><figcaption><span>[css]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.rolling_banner</span>&#123;</span><br><span class="line">    <span class="attribute">overflow</span>:hidden;</span><br><span class="line">    <span class="attribute">position</span>:absolute;<span class="attribute">top</span>:<span class="number">50%</span>;<span class="attribute">left</span>:<span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin</span>:-<span class="number">100px</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">400px</span>;<span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#000</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rolling_banner</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">position</span>:absolute;<span class="attribute">top</span>:<span class="number">0</span>;<span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">400px</span>;<span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">200px</span>;<span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="comment">/* opacity 속성 삭제 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>설명</strong></p>
<ul>
<li>javascript - 76번 라인: 롤링 순서 첫 번째 단계인 롤링 준비에 해당하는 코드입니다. 다음에 등장할 배너 위치를 잡아줍니다.</li>
<li>javascript - 82번 라인: 롤링을 시작합니다. 현재 배너는 화면에서 사라지는 효과를 내기 위해 top을 -200px 위치로 opacity 값을 0으로 설정해 jQuery에서 제공하는 animate() 메서드를 호출해 줍니다.</li>
<li>javascript - 89번 라인: 다음 배너는 화면에 등장하는 효과를 내기 위해 top 값을 0px 위치로 opacity 값을 1로 설정해 animate() 메서드를 호출해 줍니다.</li>
<li>javascript - 82,89번 라인 내용이 호출되면 배너가 롤링되기 시작합니다.</li>
<li>css - 2번 라인: 테스트를 위해 주석처리 해놓은 overflow:hidden을 다시 활성화 시켜 줍니다.</li>
<li>css - 13번 라인: 테스트를 위해 추가했던 opacity:0.2를 제거해 줍니다.</li>
</ul>
<p>코드를 모두 입력했다면 정상적으로 롤링이 되는지 실행해 보세요. 멋지게 동작하는 롤링 배너를 볼 수 있을 것입니다.<br><iframe scrolling="no" width="100%" height="300" src="https://jsfiddle.net/2jzxndft/embedded/result,html,css,js/dark" frameborder="0" loading="lazy" allowfullscreen></iframe><br><a href="/file/rollingBanner_04.zip">소스코드 다운받기</a></p>
<p>이렇게 해서 첫 번째 미션이자 첫 번째 버전인 롤링 배너를 클래스 단위 코딩으로 완성해 봤습니다. 지금까지 만든 롤링 배너를 UML로 요약하면 다음과 같습니다.<br><img src="/img/postimgs/84.jpg"></p>
<p><br><hr><br></p>
<h3 id="롤링-배너-ver-2-0-여러-개의-롤링배너-만들기"><a href="#롤링-배너-ver-2-0-여러-개의-롤링배너-만들기" class="headerlink" title="롤링 배너 ver 2.0: 여러 개의 롤링배너 만들기"></a>롤링 배너 ver 2.0: 여러 개의 롤링배너 만들기</h3><p>이번 미션에서는 하나의 클래스로 여러 개의 객체를 생서하기 위한 옵션값 처리 방법과 클래스 재사용 방법 등을 학습합니다.</p>
<p><br></p>
<p><strong>소개 및 미리보기</strong><br>롤링 배너 ver 1.0 에서 만든 롤링 배너는 배너 선택자가 내부에 포함돼 있기 때문에 아쉽게도 오직 하나의 롤링 배너만을 만들 수 밖에 없었습니다.<br><img src="/img/postimgs/85.jpg"><br>이와 더불어 배너 높이 값이 200으로 하드 코딩되어 있기 때문에 만약 배너 높이가 200이 아닌 경우 이 값도 수정해줘야 하는 번거로움이 있습니다.<br><img src="/img/postimgs/86.jpg"></p>
<p>이번 미션은 바로 클래스 하나로 여러 개의 롤링 배너를 만들 수 있게 코드를 수정하는 것입니다. 실제 구현에 앞서 이번 미션에서 구현해야 할 내용을 정확히 파악하기 위해 구현 완료된 예제를 확인해 보겠습니다.</p>
<iframe src="/file/rollingBanner_ver2_05/rollingBanner_ver2_05.html" width="720" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe>
<p>자세히 보면 두 개의 롤링 배너가 전환되는 시간과 롤링 효과의 진행 시간이 다르다는 것을 알 수 있을 것 입니다. 바로 이 내용이 만들어야 할 미션입니다.</p>
<p><br></p>
<p><strong>요구사항</strong><br>이번 미션의 요구사항을 정리하면 다음과 같습니다.</p>
<ol>
<li>RollingBanner 클래스 하나로 여러 개의 롤링 배너를 만들 수 있게 수정해 주세요.</li>
<li>배너 전환 시간을 설정할 수 있게 만들어 주세요.</li>
<li>롤링 효과 시간을 설정할 수 있게 만들어 주세요.</li>
</ol>
<p><br></p>
<p><strong>레이아웃 구성</strong><br>원활한 작업을 위해 마크업 및 CSS 스타일 속성은 다음과 같이 만들어 둔 상태입니다.</p>
<figure class="highlight html"><figcaption><span>[html]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;rolling_banner banner1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/1.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/2.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/3.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/4.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/5.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/6.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/7.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/8.jpg&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;rolling_banner banner2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/1.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/2.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/3.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/4.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/5.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/6.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/7.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/8.jpg&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><figcaption><span>[css]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.rolling_banner</span>&#123;</span><br><span class="line">    <span class="attribute">overflow</span>:hidden;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#000</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rolling_banner</span> <span class="selector-tag">img</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">0</span>;<span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;<span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.banner1</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.banner2</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">160px</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="/file/rollingBanner_ver2_00.zip">소스코드 다운받기</a></p>
<p>이렇게 해서 이번 미션에서 구현할 내용을 모두 살펴봤습니다. 그림 지금부터 미션 풀이를 진행해 보겠습니다.</p>
<p><br></p>
<p><strong>기능 구현하기</strong><br>기능 구현은 이해를 돕기 위해 다음과 같이 총 5단계로 나눠 진행하겠습니다.</p>
<ol>
<li>여러 개의 롤링 배너를 만들 수 있게 수정</li>
<li>롤링 배너 위치 값 자동으로 설정하기</li>
<li><code>2.</code>의 문제점 해결하기</li>
</ol>
<p><br><br></p>
<p><strong>1. 여러개의 롤링 배너를 만들 수 있게 수정</strong><br>앞에서 알아본 것처럼 현재 롤링 배너는 배너 정보가 고정돼 있기 때문에 여러 개의 롤링 배너를 만들 수 없습니다.<br><img src="/img/postimgs/87.jpg"><br>이번 단계에서는 이 부분을 수정해 하나의 RollingBanner 클래스로 여러 개의 롤링 배너를 만들 수 있게 수정해보죠. 코드는 설명 순서대로 입력하면 됩니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 인스턴스 생성</span></span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner1&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> rolling2 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner2&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RollingBanner</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$banners = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">this</span>._timerID = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._init(selector);</span><br><span class="line">    <span class="built_in">this</span>._initBannerPos();</span><br><span class="line">    <span class="built_in">this</span>.startAutoPlay();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 요소 초기화</span></span><br><span class="line">RollingBanner.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$banners = $(selector).children(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>설명</strong></p>
<ul>
<li>18번 라인: 먼저 고정된 선택자 값을 매개변수 갑승로 받을 수 있게 selector라는 매개변수를 추가해 줍니다.</li>
<li>19번 라인: 여기서 주의해야 할 사항이 있습니다. 기존 코드에서는 <code>&quot;.banner1 img</code>와 같은 식으로 선택자를 만들어 사용했는데요. 여기에서는 이 방법 대신 배너 이미지 정보를 가지고 있는 노드만을 선택자(<code>.banner1</code> 또는 <code>.banner2</code>)로 받아 내부에서 배너 이미지 정보(img)를 찾는 구조로 변경했습니다. 이렇게 변경한 이유는 배너 이미지를 감싸고 있는 노드, 즉 selector에 해당하는 DOM 요소에 이벤트를 걸어야 하는 경우가 많기 때문입니다.</li>
<li>7번 라인: 배너 정보를 나타내는 선택자를 외부에서 설정할 수 있게 생성자에 selector라는 매개변수를 추가해 줍니다.</li>
<li>12번 라인: 객체가 생성될 때 공용 요소를 찾도록 만들기 위해 <code>7번 라인</code>에서 받은 선택자 값을 _init() 메서드의 매개변수 값으로 넘겨 줍니다.</li>
<li>3번 라인: 첫 번째 배너를 나타내는 선태자인 <code>.banner1</code>을 값으로 <code>RollingBanner</code>클래스의 인스턴스를 생성해 줍니다.</li>
<li>4번 라인: 추가로 두 번째 배너를 나타내는 선택자인 <code>.banner2</code>를 값으로 <code>RollingBanner</code> 클래스의 인스턴스를 생성해 줍니다.</li>
</ul>
<p>지금까지 설명을 요약해보면 선택자 정보는 다음 같은 흐름을 타고 사용됩니다.<br><img src="/img/postimgs/88.jpg"><br>코드를 모두 입력했다면 두 개의 롤링 배너가 정상적으로 동작하는지 실행해 보세요. 실행 화면처럼 동시에 배너가 롤링되는 것을 볼 수 있을 것입니다.<br><strong>실행화면</strong><br><iframe src="/file/rollingBanner_ver2_01/rollingBanner_ver2_01.html" width="720" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><br><a href="/file/rollingBanner_ver2_01.zip">소스코드 다운받기</a></p>
<p><br></p>
<p><strong>2. 롤링 배너 위치 값 자동으로 설정하기</strong><br><code>1. 여러개의 롤링 배너를 만들 수 있게 수정</code> 에서는 정상적으로 동작하는 것처럼 보이지만 자세히 살펴보면 둘 다 이상합니다. 왜냐면 롤링 배너 위치 값이 200으로 고정돼 있기 때문에 두 롤링 배너의 경우 높이가 각각 50과 100으로 첫번째는 시작 위치가 50만큼 두번째는 시작위치가 100만큼 이어야 하지만 고정된 값 때문에 200이 돼 버립니다. 현재 배너가의 사라지는 위치 역시 -200이 되어 깔끔하지 않게 롤링효과가 진행됩니다.<br><img src="/img/postimgs/89.jpg"></p>
<p>바로 이번 단계에서 구현할 내용은 배너에 따라 자동으로 다음 배너의 시작 위치 값과 현재 배너의 마지막 위치 값을 설정할 수 있게 만드는 작업입니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner1&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> rolling2 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner2&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RollingBanner</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 프로퍼티 생성및 초기화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">this</span>._timerID = -<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">this</span>._bannerHeight = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._init(selector);</span><br><span class="line">    <span class="built_in">this</span>._initBannerPos();</span><br><span class="line">    <span class="built_in">this</span>.startAutoPlay();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 요소 초기화.</span></span><br><span class="line">RollingBanner.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$banners = $(selector).children(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">    <span class="built_in">this</span>._bannerHeight = <span class="built_in">this</span>._$banners.eq(<span class="number">0</span>).height();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 배너 위치 초기화</span></span><br><span class="line">RollingBanner.prototype._initBannerPos = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 배너 위치를 화면에서 보이지 않게 숨기기</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.css(<span class="string">&quot;top&quot;</span>, <span class="built_in">this</span>._bannerHeight);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 0번째 배너 활성화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex).css(<span class="string">&quot;top&quot;</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">RollingBanner.prototype.startAutoPlay = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> objThis = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 타이머가 두번 이상 실행되지 않게 조건 처리</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._timerID == -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>._timerID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            objThis.nextBanner();</span><br><span class="line">        &#125;, <span class="number">2000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 다음 배너 활성화</span></span><br><span class="line">RollingBanner.prototype.nextBanner = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 index값 구하기</span></span><br><span class="line">    <span class="keyword">var</span> outIndex = <span class="built_in">this</span>._currentIndex;</span><br><span class="line">    <span class="comment">// 다음 배너 index값 구하기</span></span><br><span class="line">    <span class="built_in">this</span>._currentIndex++;</span><br><span class="line">    <span class="comment">// 마지막 배너까지 롤링한 경우 다시 0번째부터 롤링될 수 있게 인덱스 값을 0으로 설정</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._currentIndex &gt;= <span class="built_in">this</span>._$banners.length) &#123;</span><br><span class="line">        <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $outBanner = <span class="built_in">this</span>._$banners.eq(outIndex);</span><br><span class="line">    <span class="comment">// 다음 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $inBanner = <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 롤링 준비-다음 배너 위치 초기화</span></span><br><span class="line">    $inBanner.css(&#123;</span><br><span class="line">        top: <span class="built_in">this</span>._bannerHeight,</span><br><span class="line">        opacity:<span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">    $outBanner.stop().animate(&#123;</span><br><span class="line">        top:-<span class="built_in">this</span>._bannerHeight,</span><br><span class="line">        opacity:<span class="number">0</span></span><br><span class="line">    &#125;,<span class="number">600</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">    $inBanner.stop().animate(&#123;</span><br><span class="line">        top:<span class="number">0</span>,</span><br><span class="line">        opacity:<span class="number">1</span></span><br><span class="line">    &#125;,<span class="number">600</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>설명</strong></p>
<ul>
<li>11번 라인: 생성자에 배너 높이를 담을 프로퍼티를 <code>_bannerHeight</code>라는 이름으로 추가합니다.</li>
<li>21번 라인: 롤링 배너의 크기는 모두 동일하기 때문에 0번째 배너의 높이 값을 <code>_bannerHeight</code>에 대입해 줍니다.</li>
<li>27,64,70번 라인에 고정돼 있던 200과 -200대신 <code>_bannerHeight</code> 프로퍼티를 넣어 줍니다.</li>
</ul>
<p>코드를 모두 입력했다면 정상적으로 동작하는지 실행해보죠. 하지만 아쉽게도 롤링배너가 제대로 동작하지 않을 것입니다. 이유는 시작부분에 해당하는 jQuery 의 <code>ready()</code>는 배너 이미지가 로딩 되기 전에 실행되기 때문에 ready()에서 배너 이미지의 높이를 구하는 경우 0이 돼버립니다. 문제 해결 방법에 대해서는 다음 단계에서 자세히 알아보겠습니다.<br><code>※ $(document).ready(function() &#123;&#125;);</code>  <strong>=</strong>  <code>$(function() &#123;&#125;);</code></p>
<p><br></p>
<p><strong>3. 문제점 해결하기</strong><br><code>2. 롤링 배너 위치 값 자동으로 설정하기</code> 에서 발생한 문제점을 해결하는 방법은 두 가지 정도가 있습니다.</p>
<ul>
<li>첫 번째 <code>window.onload</code>이벤트를 활용하는 방법</li>
<li>두 번째 이미지의 <code>load</code>이벤트를 활용하는 방법</li>
</ul>
<p>먼저 첫 번째 방법부터 자세히 알아보죠.</p>
<p><strong>첫 번째 <code>window.onload</code> 이벤트를 활용하는 방법</strong><br>자바스크립트 기본 객체인 window에서 발생하는 onload 이벤트는 웹브라우저가 웹페이지를 읽어 들인 후 파싱 단계를 거쳐 작성된 HTML 태그와 1:1 맵핑되는 DOM 객체를 만드는 작업부터 웹페이지 포함된 이미지와 같은 리소스까지 모두 읽어들인 후 사용할 준비가 되면 발생하는 이벤트 입니다.</p>
<p>이와 달리 현재 예제에서 사용한 jQuery의 ready() 메서드는 자바스크립트의 DOMContentLoaded라는 이벤트를 내부에서 사용하며 이 이벤트는 웹브라우저가 웹페이지를 읽어 들인 후 파생 단계를 거쳐 작성된 태그와 1:1 맵핑되는 DOM 객체로 만드는 작업을 완료한 후 발생하는 이벤트입니다.</p>
<p>간단한 예제를 만들어 이 두 이벤트의 차이점에 대해 알아보죠.</p>
<figure class="highlight html"><figcaption><span>[jQuery ready()]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;ko&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>DOMContentLoaded<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">	</span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">	<span class="keyword">var</span> height = $(<span class="string">&quot;.target&quot;</span>).height();</span></span><br><span class="line"><span class="javascript">	alert(<span class="string">&quot;height = &quot;</span> + height);</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;image/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;target&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><a href="/file/DOMContentLoaded.zip">소스코드 다운받기</a><br><strong>설명</strong><br>실행해 보면 이미지 높이가 0으로 나오는 것을 알 수 있습니다. 몇 번 실행하다 보면 높이가 400으로 나오는 경우도 있는데 이유는 웹브라우저에 캐쉬된 이미지가 사용되기 때문입니다.<br><img src="/img/postimgs/90.jpg"></p>
<p><br></p>
<figure class="highlight html"><figcaption><span>[onload]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;ko&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>onload<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">	<span class="keyword">var</span> height = $(<span class="string">&quot;.target&quot;</span>).height();</span></span><br><span class="line"><span class="javascript">	alert(<span class="string">&quot;height = &quot;</span> + height);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;image/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;target&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><a href="/file/onload.zip">소스코드 다운받기</a><br><strong>설명</strong><br>이미지 크기가 정확하게 출력되는 것을 확인할 수 있습니다.<br><img src="/img/postimgs/91.jpg"><br>이에 따라 실행 즉시 이미지 크기를 알아내려면 window 객체에서 발생하는 <code>onload</code> 이벤트를 사용해야 합니다. 즉 기존 롤링 배너 코드를 ready() 메서드 대신 onload 이벤트로 다음과 같이 변경만 하면 됩니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 여기에 스크립트 코드를 작성해 주세요.</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner1&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> rolling2 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner2&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<iframe src="/file/rollingBanner_ver2_03_1/rollingBanner_ver2_03_1.html" width="720" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe>
<p><a href="/file/rollingBanner_ver2_03_1.zip">소스코드 다운받기</a></p>
<p><br><br></p>
<p><strong>두 번째 이미지의 onload 이벤트를 활용하는 방법</strong><br><code>&lt;img&gt;</code>태그와 1:1 맵핑되는 객체는 HTMLImageElement라는 객체입니다. 이 객체는 주로 img 태그의 src 속성에 해당하는 이미지를 읽어들여 화면에 보여주는 기능을 합니다. 이때 이미지를 모두 읽어들이면 onload라는 이벤트를 발생합니다.<br><figure class="highlight html"><figcaption><span>[jQuery load 이벤트]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;ko&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>onload<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://code.jquery.com/jquery-1.12.4.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    $(<span class="string">&quot;.target&quot;</span>).on(<span class="string">&#x27;load&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> height = $(<span class="string">&quot;.target&quot;</span>).height();</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">&quot;height = &quot;</span> + height);</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;image/1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;target&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><a href="/file/imageOnLoad.zip">소스코드 다운받기</a></p>
<p><strong>설명</strong><br>이미지의 높이가 정상적으로 출력되는 것을 확인할 수 있습니다.</p>
<p>롤링 배너에 이미지 onload 이벤트를 활용하려면 다음과 같이 변경해줘야 합니다.<br><img src="/img/postimgs/92.jpg"></p>
<p><strong>설명</strong></p>
<ol>
<li>우선 이미지 높이 값을 구하기 전까지 롤링 효과가 실행되면 안 되기 때문에 _start()라는 메서드를 만든 후 생성자에 작성한 _initBannerPos() 메서드와 startAutoPlay() 메서드 호출 코드를 옮겨 줍니다.</li>
<li>다음으로 _initEvent()라는 메서드를 신규로 만들어 줍니다. 그리고 첫 번째 배너에 load 이벤트 리스너를 걸어 줍니다. 이때 이벤트는 한 번만 사용하고 지울 것이기 때문에 on() 메서드 대신 one() 메서드를 사용합니다.</li>
<li>load 이벤트 리스너 내부 높이 너비를 구하는 코드를 작성해 줍니다. 여기까지 실행되면 롤링 배너를 시작할 준비가 모두 마무리 됩니다.</li>
<li>마지막으로 <code>1.</code>에서 만든 _start() 메서드를 호출 합니다.</li>
<li>지금까지 설명한 코드가 실행될 수 있게 생성자에 _initEvent()메서드를 호출해 줍니다.</li>
</ol>
<p>코드를 모두 입력했다면 다시 한 번 실행해 보세요. 롤링 배너가 정상적으로 동작하는 것을 확인할 수 있습니다. 풀이는 앞으로 두 번째 방법인 이미지 로드 이벤트를 활용한 방법을 사용하겠습니다.</p>
<p><a href="/file/rollingBanner_ver2_03_2.zip">소스코드 다운받기</a></p>
<p><br><br></p>
<p><strong>4. 배너 전환 시간 설정 기능 추가</strong><br>이번에는 롤링 배너마다 배너 전환 시간을 다르게 설정할 수 있는 기능을 추가해 보죠. 수정 방법은 <code>1. 여러개의 롤링 배너를 만들 수 있게 수정</code>과 동일 합니다. 고정된 값을 외부에서 설정할 수 있게 변경해 주는 것이죠.<br><img src="/img/postimgs/93.jpg"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 여기에 스크립트 코드를 작성해 주세요.</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 인스턴스 생성</span></span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner1&quot;</span>, <span class="number">3000</span>);</span><br><span class="line">    <span class="keyword">var</span> rolling2 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner2&quot;</span>, <span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RollingBanner</span>(<span class="params">selector, playSpeed</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 프로퍼티 생성및 초기화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._timerID = -<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// step #02</span></span><br><span class="line">    <span class="built_in">this</span>._bannerHeight=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._playSpeed = playSpeed;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._init(selector);</span><br><span class="line">    <span class="built_in">this</span>._initEvent();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 요소 초기화.</span></span><br><span class="line">RollingBanner.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$banners = $(selector).children(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 이벤트 처리</span></span><br><span class="line">RollingBanner.prototype._initEvent = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> objThis = <span class="built_in">this</span>;</span><br><span class="line">    <span class="built_in">this</span>._$banners.eq(<span class="number">0</span>).one(<span class="string">&quot;load&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        objThis._bannerHeight= $(<span class="built_in">this</span>).height();</span><br><span class="line">        objThis._start();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 초기화및 롤링배너 시작</span></span><br><span class="line">RollingBanner.prototype._start = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._initBannerPos();</span><br><span class="line">    <span class="built_in">this</span>.startAutoPlay();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 배너 위치 초기화</span></span><br><span class="line">RollingBanner.prototype._initBannerPos = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 배너 위치를 화면에서 보이지 않게 숨기기</span></span><br><span class="line">    <span class="comment">// step #02</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.css(<span class="string">&quot;top&quot;</span>, <span class="built_in">this</span>._bannerHeight);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 0번째 배너 활성화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex).css(<span class="string">&quot;top&quot;</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">RollingBanner.prototype.startAutoPlay = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> objThis = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 타이머가 두번 이상 실행되지 않게 조건 처리</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._timerID == -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>._timerID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            objThis.nextBanner();</span><br><span class="line">        &#125;, <span class="built_in">this</span>._playSpeed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 다음 배너 활성화</span></span><br><span class="line">RollingBanner.prototype.nextBanner = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 index값 구하기</span></span><br><span class="line">    <span class="keyword">var</span> outIndex = <span class="built_in">this</span>._currentIndex;</span><br><span class="line">    <span class="comment">// 다음 배너 index값 구하기</span></span><br><span class="line">    <span class="built_in">this</span>._currentIndex++;</span><br><span class="line">    <span class="comment">// 마지막 배너까지 롤링한 경우 다시 0번째부터 롤링될 수 있게 인덱스 값을 0으로 설정</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._currentIndex &gt;= <span class="built_in">this</span>._$banners.length) &#123;</span><br><span class="line">        <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $outBanner = <span class="built_in">this</span>._$banners.eq(outIndex);</span><br><span class="line">    <span class="comment">// 다음 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $inBanner = <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 롤링 준비-다음 배너 위치 초기화</span></span><br><span class="line">    $inBanner.css(&#123;</span><br><span class="line">        top:<span class="built_in">this</span>._bannerHeight,</span><br><span class="line">        opacity:<span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">    $outBanner.stop().animate(&#123;</span><br><span class="line">        top:-<span class="built_in">this</span>._bannerHeight,</span><br><span class="line">        opacity:<span class="number">0</span></span><br><span class="line">    &#125;,<span class="number">600</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">    $inBanner.stop().animate(&#123;</span><br><span class="line">        top:<span class="number">0</span>,</span><br><span class="line">        opacity:<span class="number">1</span></span><br><span class="line">    &#125;,<span class="number">600</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>설명</strong></p>
<ul>
<li>8번 라인: 외부에서 전환 시간을 설정할 수 있게 생성자에 playSpeed라는 매개변수를 추가해 줍니다.</li>
<li>17번 라인: <code>_playSpeed</code>라는 이름을 가진 신규 프로퍼티를 추가한 후 playSpeed 매개변수 값으로 초기화해 줍니다.</li>
<li>63번 라인: <code>startAutoPlay</code>에 고정된 2000 값 대신 <code>_playSpeed</code> 프로퍼티를 넣어 줍니다.</li>
<li>4번 라인: 첫 번째 롤링 배너는 3000(3초)으로 전환 시간을 설정해 줍니다.</li>
<li>5번 라인: 두 번째 롤링 배너는 1000(1초)으로 전환 시간을 설정해 줍니다.</li>
</ul>
<p>코드를 모두 입력했다면 정상적으로 동작하는지 실행해 보죠. 각기 다르게 전환 효과가 동작하는 것을 확인할 수 있을 것입니다.<br><a href="/file/rollingBanner_ver2_03_4.zip">소스코드 다운받기</a></p>
<p><br><br></p>
<p><strong>5. 롤링 효과 시간 설정 기능 추가</strong><br>이번 기능 역시 앞에서 했던 단계와 동일한 방법으로 고정된 롤링 효과 시간 값을 외부에서 설정할 수 있게 만들면 됩니다.<br><img src="/img/postimgs/94.jpg"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 인스턴스 생성</span></span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner1&quot;</span>, <span class="number">3000</span>, <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">var</span> rolling2 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner2&quot;</span>, <span class="number">1000</span>, <span class="number">300</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RollingBanner</span>(<span class="params">selector, playSpeed, rollingSpeed</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 프로퍼티 생성및 초기화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._timerID = -<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// step #02</span></span><br><span class="line">    <span class="built_in">this</span>._bannerHeight=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._playSpeed = playSpeed;</span><br><span class="line">    <span class="built_in">this</span>._rollingSpeed = rollingSpeed;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._init(selector);</span><br><span class="line">    <span class="built_in">this</span>._initEvent();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 초기화및 롤링배너 시작</span></span><br><span class="line">RollingBanner.prototype._start = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._initBannerPos();</span><br><span class="line">    <span class="built_in">this</span>.startAutoPlay();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 요소 초기화.</span></span><br><span class="line">RollingBanner.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$banners = $(selector).children(<span class="string">&quot;img&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 이벤트 처리</span></span><br><span class="line">RollingBanner.prototype._initEvent = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> objThis = <span class="built_in">this</span>;</span><br><span class="line">    <span class="built_in">this</span>._$banners.eq(<span class="number">0</span>).one(<span class="string">&quot;load&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        objThis._bannerHeight= $(<span class="built_in">this</span>).height();</span><br><span class="line">        </span><br><span class="line">        objThis._start();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 배너 위치 초기화</span></span><br><span class="line">RollingBanner.prototype._initBannerPos = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 배너 위치를 화면에서 보이지 않게 숨기기</span></span><br><span class="line">    <span class="comment">// step #02</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.css(<span class="string">&quot;top&quot;</span>, <span class="built_in">this</span>._bannerHeight);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 0번째 배너 활성화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex).css(<span class="string">&quot;top&quot;</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">RollingBanner.prototype.startAutoPlay = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> objThis = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 타이머가 두번 이상 실행되지 않게 조건 처리</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._timerID == -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>._timerID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            objThis.nextBanner();</span><br><span class="line">        &#125;, <span class="built_in">this</span>._playSpeed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 다음 배너 활성화</span></span><br><span class="line">RollingBanner.prototype.nextBanner = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 index값 구하기</span></span><br><span class="line">    <span class="keyword">var</span> outIndex = <span class="built_in">this</span>._currentIndex;</span><br><span class="line">    <span class="comment">// 다음 배너 index값 구하기</span></span><br><span class="line">    <span class="built_in">this</span>._currentIndex++;</span><br><span class="line">    <span class="comment">// 마지막 배너까지 롤링한 경우 다시 0번째부터 롤링될 수 있게 인덱스 값을 0으로 설정</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._currentIndex &gt;= <span class="built_in">this</span>._$banners.length) &#123;</span><br><span class="line">        <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $outBanner = <span class="built_in">this</span>._$banners.eq(outIndex);</span><br><span class="line">    <span class="comment">// 다음 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $inBanner = <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 롤링 준비-다음 배너 위치 초기화</span></span><br><span class="line">    $inBanner.css(&#123;</span><br><span class="line">        top:<span class="built_in">this</span>._bannerHeight,</span><br><span class="line">        opacity:<span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">    $outBanner.stop().animate(&#123;</span><br><span class="line">        top:-<span class="built_in">this</span>._bannerHeight,</span><br><span class="line">        opacity:<span class="number">0</span></span><br><span class="line">    &#125;,<span class="built_in">this</span>._rollingSpeed);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">    $inBanner.stop().animate(&#123;</span><br><span class="line">        top:<span class="number">0</span>,</span><br><span class="line">        opacity:<span class="number">1</span></span><br><span class="line">    &#125;,<span class="built_in">this</span>._rollingSpeed);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>설명</strong></p>
<ul>
<li>7번 라인: 외부에서 롤링 효과 시간을 설정할 수 있게 생성자에 <code>rollingSpeed</code>라는 매개변수를 추가해 줍니다.</li>
<li>17번 라인: <code>_rollingSpeed</code>라는 이름을 가진 신규 프로퍼티를 추가한 후 rollingSpeed 매개변수 값으로 초기화해 줍니다.</li>
<li>96,103번 라인: <code>nextBanner()</code>메서드에서 600(0.6초)으로 고정되어 있는 값 대신 _rollingSpeed를 넣어 줍니다.</li>
<li>3번 라인: 첫 번째 롤링 배너의 롤링 효과 시간을 1000(1초)으로 설정해 줍니다.</li>
<li>4번 라인: 두 번째 롤링 배너의 롤링 효과 시간을 300(0.3초)으로 설정해 줍니다.</li>
<li>3,4번 라인 에서 주의해야 할 사항이 있는데요. 롤링 효과 시간이 전환보다 커서는 안됩니다. 만약 크게 되는 경우 올린 효과가 진행 도중에 배너가 전환돼버립니다.</li>
</ul>
<p>자! 그럼 코드를 모두 입력헀다면 실행해보죠. 설정한 롤링 효과 시간이 적용돼 첫 번째 롤링 배너가 두 번째 롤링배너보다 느리게 롤링 효과가 동작하는 것을 확인할 수 있을 것입니다.<br><iframe src="/file/rollingBanner_ver2_03_5/rollingBanner_ver2_03_5.html" width="720" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><br><a href="/file/rollingBanner_ver2_03_5.zip">소스코드 다운받기</a></p>
<p>지금까지 작성한 코드를 UML로 요약하면 다음과 같습니다.<br><img src="/img/postimgs/95.jpg"></p>
<p><br><hr><br></p>
<h3 id="롤링-배너-ver-3-0-상속-활용"><a href="#롤링-배너-ver-3-0-상속-활용" class="headerlink" title="롤링 배너 ver 3.0: 상속 활용"></a>롤링 배너 ver 3.0: 상속 활용</h3><p>이번 미션에서는 클래스 상속을 활용해 기능을 확장하는 방법을 학습합니다. 클래스 상속의 기능을 다시한번 확인할 수 있는 좋은 예제가 될 것입니다.</p>
<p><strong>미션 소개 및 미리보기</strong><br>일반적인 롤링 배너의 경우 배너 영역에 마우스가 들어오는 경우 롤링 효과가 멈추고 마우스가 배너 영역 밖으로 나가는 경우 다시 롤링되는 기능을 가지고 있습니다. 바로 이번 미션은 이 기능을 구현하는 것입니다. 이번 미션을 좀더 자세히 알아보기 위해 이미 완성된 모습을 보겠습니다.<br><iframe src="/file/rollingBanner_ver3_04_3/rollingBanner_ver3_04_3.html" width="720" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe></p>
<p>실행하면 미션2 에서 만든 것과 동일하게 동작하는 롤링 배너를 볼 수 있을 것입니다. 여기서 왼쪽 롤링배너는 기존과 똑같은 일반 롤링배너입니다. 바로 두 번째 롤링 배너가 정지/재실행 기능이 구현된 롤링 배너입니다. 테스트를 한번 해보죠. 두 번째 롤링 배너에 마우스 포인터를 올려 보세요. 멈추죠? 다시 마우스 포인터를 롤링배너 밖으로 이동해 보세요. 그럼 다시 롤링되기 시작할 것입니다.</p>
<p><br><br></p>
<p><strong>요구사항</strong><br>지금까지 살펴본 내용을 정리하면 다음 요구 사항에 맞게 기존 롤링 배너를 확장해 기능을 추가하는 미션입니다.</p>
<ol>
<li>기존 롤링 배너를 확장해 롤링 배너에 마우스 커서가 들어오는 경우 멈추고 다시 밖으로 나가는 경우 다시 롤링되게 만들어 주세요.</li>
<li>단, 기존 RollingBanner 클래스를 절대 수정해서는 안 됩니다.</li>
</ol>
<p>이 미션의 핵심은 바로 두 번째 내용 입니다. 기존에 만들어져 있는 RollingBanner 클래스를 절대 수정해서는 안 됩니다.</p>
<p><br><br></p>
<p><strong>핵심 내용 및 해결책 찾기</strong><br>이번 미션의 핵심은 기존 RollingBanner 클래스를 수정하지 않고 기능을 추가하는 것입니다. 왠지 모순처럼 들리지만 이럴 때 사용하는 기능이 바로 <code>클래스 상속</code>이라는 것을 앞에서 배웠습니다. 맞습니다. 이번 미션은 과연 상속을 제대로 이해하고 있는지 테스트하기 위한 미션입니다.</p>
<p><br><br></p>
<p><strong>구현하기</strong><br>이번 미션 풀이는 이해를 돕기 위해 다음과 같이 총 3단계로 나눠 진행하겠습니다.</p>
<ol>
<li>자식 롤링 배너 클래스 만들기</li>
<li>요소 초기화 메서드 기능 확장</li>
<li>정지/재시작 기능 추가</li>
</ol>
<p>그럼 첫 번째 단계부터 시작해보죠.</p>
<p><br><br></p>
<p><strong>1. 자식 롤링 배너 클래스 만들기</strong><br>이번 단계에서는 기존 RollingBanner 클래스를 확장해 기능을 추가할 자식 클래스를 만드는 작업을 하겠습니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 인스턴스 생성</span></span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner1&quot;</span>, <span class="number">3000</span>, <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">var</span> rolling2 = <span class="keyword">new</span> ChildRollingBanner(<span class="string">&quot;.banner2&quot;</span>,<span class="number">1000</span>,<span class="number">300</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ~~~~~ 중략 ~~~~~~</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 자식 롤링 배너 클래스</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ChildRollingBanner</span>(<span class="params">selector, playSpeed, rollingSpeed</span>) </span>&#123;</span><br><span class="line">    RollingBanner.call(<span class="built_in">this</span>, selector, playSpeed, rollingSpeed);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// RollingBanner 상속 받기</span></span><br><span class="line">ChildRollingBanner.prototype = <span class="keyword">new</span> RollingBanner();</span><br><span class="line">ChildRollingBanner.prototype.constructor = ChildRollingBanner;</span><br></pre></td></tr></table></figure>
<p><strong>설명</strong></p>
<ul>
<li>10번 라인: 먼저 RollingBanner 클래스를 상속받아 기능을 추가할 자식 클래스를 <code>ChildRollingBanner</code>라는 이름으로 클래스를 만들어 줍니다.<br>여기에서 주의해야 할 사항이 있는데요. 부모 생성자에 넘겨줘야 할 파라미터 값이 있는 경우 자식 클래스의 생성자에서 값을 넘겨줘야 합니다. 이를 위해서 자식클래스의 생성자에도 부모 클래스의 생성자와 똑같이 매개변수를 만들어 줍니다.</li>
<li>11번 라인: 자식에서 받은 매개변수 값을 그대로 부모에게 넘겨주기 위해 자식 객체 생성 시 넘겨 받은 매개변수 값을 call()메서드를 이용해 부모 생성자로 넘겨 줍니다.<br><a href="/2018/03/05/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EC%8B%9D-%ED%81%B4%EB%9E%98%EC%8A%A4%EC%99%80-%EB%B6%80%EB%AA%A8-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%97%B0%EB%8F%99-%EC%B2%98%EB%A6%AC/" title="[객체지향 프로그래밍 특징] 자식 클래스와 부모 클래스 연동 처리">[객체지향 프로그래밍 특징] 자식 클래스와 부모 클래스 연동 처리</a>참조</li>
<li>15번 라인: 부모 클래스인 <code>RollingBanner</code>를 자식 클래스인 <code>ChildRollingBanner</code>가 상속받을 수 있게 상속 관계를 만들어 줍니다.</li>
<li>15,16번 라인 이 실행되면 생성자 정보를 담고 있는 속성인 <code>constructor</code>에는 기존 부모 생성자가 담기게 됩니다. 그렇기 때문에 자식 클래스의 생성자를 대입해 줘야 합니다.<br><a href="/2018/03/16/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-constructor-%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0-%ED%99%9C%EC%9A%A9/" title="[객체지향 프로그래밍 특징] constructor 프로퍼티 활용">[객체지향 프로그래밍 특징] constructor 프로퍼티 활용</a>참조</li>
<li>4번 라인: 아직 두 기능을 모두 구현하지 않았지만 입력한 정보가 정상적으로 테스트 하기 위해 두 번째 롤링 배너를 ChildRollingBanner 클래스로 변경해 줍니다.</li>
</ul>
<p>자! 코드를 모두 입력했다면 정상적으로 동작하는지 보겠습니다. 실행 결과는 기존과 동일하니 입력한 코드에서 에러가 없는지 확인만 하면 됩니다.<br><iframe src="/file/rollingBanner_ver3_04_1/rollingBanner_ver3_04_1.html" width="720" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><br><a href="/file/rollingBanner_ver3_04_1.zip">소스코드 다운받기</a></p>
<p><br><br></p>
<p><strong>요소 초기화 메서드 기능 확장</strong><br>마우스가 롤링 배너로 들어오는 경우 롤링 효과를 멈추고 나가는 경우 다시 롤링 효과가 동작되게 하려면 롤링 배너 자체에 이벤트를 걸어야 합니다. 이번 단계에서는 이벤트 리스너를 등록하기 위한 준비 작업을 해보겠습니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 자식 롤링 배너 클래스</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ChildRollingBanner</span>(<span class="params">selector, playSpeed, rollingSpeed</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$rolling = <span class="literal">null</span>;</span><br><span class="line">    RollingBanner.call(<span class="built_in">this</span>, selector, playSpeed, rollingSpeed);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// RollingBanner 상속 받기</span></span><br><span class="line">ChildRollingBanner.prototype = <span class="keyword">new</span> RollingBanner();</span><br><span class="line">ChildRollingBanner.prototype.constructor = ChildRollingBanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 요소 초기화</span></span><br><span class="line">ChildRollingBanner.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$rolling = $(selector);</span><br><span class="line">    RollingBanner.prototype._init.call(<span class="built_in">this</span>, selector);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>설명</strong></p>
<ul>
<li>3번 라인: 먼저 이벤트를 걸기 위해 필요한 롤링 배너를 담을 <code>_$rolling</code>프로퍼티를 생성자에 추가해 줍니다.</li>
<li>12번 라인: 요소 초기화 기능을 확장하기 위해 _init() 메서드를 오버라이드(override)해 줍니다.</li>
<li>13번 라인: selector 정보에 해당하는 요소를 찾아 _$rolling 프로퍼티에 저장합니다.</li>
<li>14번 라인: 롤링할 배너들을 찾는 기능은 부모 클래스의 _init()메서드에 이미 구현돼 있기 때문에 부모 클래스의 _init() 메서드를 호출해 줍니다.</li>
</ul>
<p>코드를 입력했다면 정상적으로 동작하는지 실행해보겠습니다. 이번 단계 역시 실행 화면은 동일합니다. 여기서 주의해서 봐야할 부분은 <strong><code>_init()메서드</code></strong>입니다.<br><iframe src="/file/rollingBanner_ver3_04_2/rollingBanner_ver3_04_2.html" width="720" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><br><a href="/file/rollingBanner_ver3_04_2.zip">소스코드 다운받기</a></p>
<p>ChildRollingBanner 클래스의 인스턴스가 생성되면 _init() 메서드는 다음과 같은 순서로 실행됩니다.<br><img src="/img/postimgs/96.jpg"></p>
<p><strong><code>순서1</code></strong><br>ChildRollingBanner 클래스의 인스턴스가 생성되면 먼저 자식 클래스의 생성자가 실행됩니다.</p>
<p><strong><code>순서2</code></strong><br>RollingBanner.call() 메서드에 의해 부모 클래스의 생성자가 실행되며 프로퍼티가 생성됩니다.</p>
<p><strong><code>순서3</code></strong><br>부모생성자의 내부에 this._init() 메서드가 호출되면 부모 클래스의 _init() 메서드가 호출되는 것이 아니라 자식 클래스의 _init() 메서드가 호출됩니다.</p>
<p><strong><code>순서4</code></strong><br>RollingBanner.prototype._init.call() 메서드에 의해서 부모 클래스의 _init() 메서드가 호출됩니다.</p>
<p><br><br></p>
<p><strong>3. 정지/재시작 기능 추가</strong><br>이번에는 이번 미션의 핵심 기능인 롤링 배너 위에 마우스가 들어올 때 롤링 효과가 멈추고 나가는 경우 다시 롤링 효과가 동작하게 만드는 기능을 구현해 보겠습니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 메서드 override</span></span><br><span class="line">ChildRollingBanner.prototype._initEvent=<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    RollingBanner.prototype._initEvent.call(<span class="built_in">this</span>);</span><br><span class="line">    <span class="keyword">var</span> objThis = <span class="built_in">this</span>;</span><br><span class="line">    <span class="comment">// 마우스가 롤링 배너에 들어오는 경우 롤링 효과 정지</span></span><br><span class="line">    <span class="built_in">this</span>._$rolling.mouseenter(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        objThis.stopAutoPlay();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 마우스가 롤링 배너 밖으로 나가는 경우 롤링 효과 재시작</span></span><br><span class="line">    <span class="built_in">this</span>._$rolling.mouseleave(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        objThis.startAutoPlay();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 롤링 효과 정지</span></span><br><span class="line">ChildRollingBanner.prototype.stopAutoPlay=<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._timerID != -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(<span class="built_in">this</span>._timerID);</span><br><span class="line">        <span class="built_in">this</span>._timerID = -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>설명</strong></p>
<ul>
<li>17번 라인: 신규로 stopAutoPlay() 메서드를 추가한 후 타이머를 멈추는 코드를 작성합니다.</li>
<li>2번 라인: 신규로 이벤트를 등록하기 위해 _initEvent() 메서드를 오버라이드 합니다.</li>
<li>3번 라인: 부모의 _initEvent() 메서드를 호출해 줍니다.</li>
<li>6번 라인: 마우스가 롤링 배너 안으로 들어오는 경우 롤링 배너를 멈추기 위해 _$rolling 요소에 mouseenter 이벤트를 추가한 후 stopAutoPlay() 메서드를 호출해 줍니다.</li>
<li>11번 라인: 마우스가 롤링 배너 밖으로 나가는 경우 멈춰있는 롤링 배너를 다시 동작할 수 있게 _$rolling 요소에 mouseleave 이벤트를 추가한 후 startAutoPlay() 메서드를 호출해 줍니다.</li>
</ul>
<p>코드를 모두 입력했다면 정상적으로 동작하는지 실행해 보겠습니다. 실행한 후 마우스 커서를 두 번째 롤링 배너 위치에 올려 롤링 배너가 멈추는지 확인해 보세요.<br><iframe src="/file/rollingBanner_ver3_04_3/rollingBanner_ver3_04_3.html" width="720" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><br><a href="/file/rollingBanner_ver3_04_3.zip">소스코드 다운받기</a></p>
<p>어떤가요? 정상적으로 동작하죠!? 이처럼 클래스 상속을 활용하면 기능을 재사용할 수 있을 뿐만 아니라 확장할 수도 있습니다.</p>
<p>지금까지 만든 내용을 UML로 요약하면 다음과 같이 표현할 수 있습니다.<br><img src="/img/postimgs/97.jpg"></p>
<p><br><hr><br></p>
<h3 id="롤링-배너-ver-4-0-다형성과-합성-활용"><a href="#롤링-배너-ver-4-0-다형성과-합성-활용" class="headerlink" title="롤링 배너 ver 4.0: 다형성과 합성 활용"></a>롤링 배너 ver 4.0: 다형성과 합성 활용</h3><p>이번 미션에서는 객체지향 프로그래밍의 가장 핵심적인 기능인 다형성과 합성을 활용한 기능 확장 방법을 학습합니다. 다형성과 합성의 기능을 다시 한 번 확인할 수 있는 좋은 예제가 될 것입니다.</p>
<p><strong>미션 소개 및 미리보기</strong><br>이번 미션은 실행화면처럼 기존 롤링 배너에 3개의 롤링효과를 추가한 후 원하는 효과를 선택해서 사용할 수 있게 하는 미션입니다. 이번 미션을 정확하게 이해하기 위해 이미 구현이 돼 있는 파일을 보여드리겠습니다.<br><iframe src="/file/rollingBanner_ver4_05_3/rollingBanner_ver4_05_3.html" width="720" height="150" frameborder="0" loading="lazy" allowfullscreen></iframe></p>
<p>실행화면을 살펴보면 첫 번째 롤링 배너는 기존 롤링 효과를 가지고 있습니다. 두 번째는 위에서 아래로 롤링됩니다. 그리고 다음 줄의 첫 번째 롤링 배너는 오른쪽에서 왼쪽으로 롤링됩니다. 마지막 롤링 배너는 왼쪽에서 오른쪽으로 롤링됩니다.</p>
<p><br><br></p>
<p><strong>요구사항</strong><br>요구사항을 정리하면 다음과 같습니다.</p>
<ol>
<li>배너가 아래에서 위로 롤링되게 만들어 주세요.</li>
<li>배너가 위에서 아래로 롤링되게 만들어 주세요.</li>
<li>배너가 왼쪽에서 오른쪽으로 롤링되게 만들어 주세요.</li>
<li>배너가 오른쪽에서 왼쪽으로 롤링되게 만들어 주세요.</li>
<li>네 개의 롤링 효과를 선택해서 사용할 수 있게 만들어 주세요.</li>
<li>단, 롤링 효과는 다형성을 활용해 만들어 주세요.</li>
</ol>
<p><br><br></p>
<p><strong>레이아웃</strong><br>풀이 전 코드는 다음과 같습니다.<br><iframe src="/file/rollingBanner_ver4_05_0/rollingBanner_ver4_05_0.html" width="720" height="150" frameborder="0" loading="lazy" allowfullscreen></iframe><br><a href="/file/rollingBanner_ver4_05_0.zip">소스코드 다운받기</a></p>
<p><br><br></p>
<p><strong>핵심 내용 및 해결 방법 찾기</strong><br>미션을 풀기 위해서는 우선 요구사항을 철저하게 분석해야 합니다. 그리고 어떻게 해결할 것인지 해결 방법까지 찾아 내야 합니다. 특히 객체지향 프로그래밍을 하는 경우 객체와 객체 간의 관계까지 설계해야 합니다.</p>
<p>자, 그럼 지금부터 직접 여러 개의 롤링 효과를 어떻게 구현하고 어떻게 사용할 것인지 설계를 해보죠. 힌트를 살짝 드리자면 앞에서 다룬 다형성과 합성을 이용하면 됩니다. 그리고 선언 부분과 구현 부분을 나눠 설계하세요.</p>
<p>…</p>
<p>그럼 설계한 내용과 이 포스팅 에서 설계한 내용을 비교해가면서 다음 내용을 봐주세요. 우선 설계에 앞서 구조가 앞의 다형성에서 풀었던 심플 갤러리 구조와 많이 닮아 있는 것을 확인할 수 있습니다. 심플 갤러리는 롤링 배너이고 4개의 정렬 기능은 4개의 롤링 효과와 동일합니다. 물론 구현 내용은 다르지만 구조는 완전히 닮아 있습니다. 그렇다면 설계도는 다음과 같은 구조가 될 것입니다.<br><img src="/img/postimgs/98.jpg"></p>
<p>이 설계도는 그저 추측으로만 그린 것이며 아직 검증되지 않은 상태임을 알려드립니다. 구조는 크게 롤링효과를 구현한 부분과 이 효과를 사용하는 부분으로 구성되어 있으며 이 둘은 전형적인 합성 관계로 연결 됩니다. 또한 네 개의 롤링 효과를 구현하고 있는 클래스는 롤링 효과 인터페이스로 만들어진 선언부분의 기능을 구현하고 있는 전형적인 다형성을 적용한 구조로 만들어져 있습니다.</p>
<p><a href="/file/test_effect_before.zip">풀이전 소스 다운받기</a></p>
<p>자! 그럼! 여기서 가상으로 잡은 설계도가 실제 구현 가능한지 기존 코드를 가지고 테스트해보죠. 테스트 하는 방법은 간단합니다. 기존 롤링 배너 클래스에 구현돼 있는 아래에서 위로 롤링되는 효과를 독립적인 객체로 만든 후 롤링 배너에서는 다시 이 롤링 효과를 합성해서 사용해보는 것이죠.</p>
<p>지금까지 내용을 구현 코드로 표현하면 다음과 같습니다.<br><img src="/img/postimgs/99.jpg"></p>
<p><strong>설명</strong></p>
<ol>
<li><strong>롤링 효과를 독립적인 클래스로 구현</strong><br>먼저 합성관계를 적용하기 위해 RollingBanner 클래스에 구현돼 있는 아래에서 위로 롤링되는 효과를 분리해서 신규 클래스에 구현해 줍니다. 클래스에 대한 인스턴스는 여러 개 생성하지 않을 것이기 때문에 프로토타입(prototype)을 활용한 클래스보다는 오브젝트 리터럴 방식으로 만드는 것이 더 효과적입니다.</li>
<li><strong>롤링배너에서 롤링 효과를 합성해서 사용하기</strong><br>롤링 효과는 이제 독립적으로 구현된 상태이기 때문에 nextBanner() 메서드에서 기존 롤링 효과 코드를 모두 지워 줍니다. 그리고 그 자리에서 롤링 효과를 합성해서 사용합니다.</li>
</ol>
<p>코드를 모두 입력했다면 롤링 효과가 정상적으로 동작하는지 실행해 보세요.<br><iframe src="/file/test_effect_after/test_effect.html" width="720" height="150" frameborder="0" loading="lazy" allowfullscreen></iframe><br><a href="/file/test_effect_after.zip">풀이후 소스 다운받기</a></p>
<p>좋습니다. 상상했던 설계도가 실현가능한 설계도라고 판단이 됐기 때문에 이제 남은 작업은 설계도에 맞게 구현하는 작업만 남은 것 같군요.</p>
<p><br><br></p>
<p><strong>구현하기</strong><br>지금부터 설계도에 맞게 구현을 시작해볼 텐데요. 구현은 이해를 돕기 위해 다음과 같이 몇 개로 나눠 진행해 보겠습니다.</p>
<ol>
<li>롤링 효과 선언부분 만들기</li>
<li>롤링 효과 구현부분 만들기</li>
<li>롤링 배너에 롤링 효과 연결(합성)해서 사용하기</li>
</ol>
<p>우선 롤링 효과 구현 부분을 먼저 만들 후 롤링 효과를 사용하는 부분을 만드는 순서로 진행하겠습니다.</p>
<p><br><br></p>
<p><strong>1. 롤링 효과 선언부분 만들기</strong><br>다형성을 적용한 롤링 효과를 구현하기 위해서는 먼저 롤링 효과들이 공통적으로 가지고 있어야 하는 기능을 선언부분으로 만드는 작업입니다. 롤링 효과의 경우 효과를 처리하는 기능 하나만 선언부분으로 만들어 주면 됩니다. 메서드 이름은 effect로 정하겠습니다.</p>
<p>다음으로 메서드의 매개변수를 만들어 보죠. 앞의 핵심 내용에서 알아본 것처럼 네 가지 롤링 효과 모두 공통적으로 필요한 데이터는 현재 출력된 배너와 다음에 등장할 배너 그리고 롤링 속도 값입니다.</p>
<p>추가로 위에서 아래로 롤링되는 효과와 아래에서 위로 롤링되는 효과는 배너의 높이 값이 필요하고, 왼쪽에서 오른쪽으로 롤링되는 효과와 오른쪽에서 왼쪽으로 롤링되는 효과는 배너의 너비 값이 필요합니다. 매개변수가 많기 때문에 여러 개의 매개변수를 나누는 것보다 하나의 리터럴로 묶어 사용하는 것이 더 낫습니다. 정리하면 선언 부분은 다음과 같이 만들 수 있습니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">effect</span>(<span class="params">info</span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>info 매개변수에는 다음과 같이 총 5개의 정보가 담긴 리터럴 오브젝트가 롤링 배너 객체에서 롤링 효과객체쪽으로 넘어오게 됩니다.</p>
<table>
<thead>
<tr>
<th>프로퍼티</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>$inBanner</td>
<td>나타날 배너</td>
</tr>
<tr>
<td>$outBanner</td>
<td>사라질 배너</td>
</tr>
<tr>
<td>bannerWidth</td>
<td>배너 너비</td>
</tr>
<tr>
<td>bannerHeight</td>
<td>배너 높이</td>
</tr>
<tr>
<td>rollingSpeed</td>
<td>롤링 속도</td>
</tr>
</tbody>
</table>
<p>아쉽게도 자바스크립트의 경우 다형성의 선언부분을 정의하는 문법인 인터페이스나 추상 클래스를 제공하지 않기 때문에 만들었다는 가정을 한다고 했습니다.</p>
<p><a href="/file/rollingBanner_ver4_05_1.zip">선언부분 소스코드 다운받기</a></p>
<p><br><br></p>
<p><strong>2. 롤링 효과 구현부분 만들기</strong><br>이번에는 롤링 효과 선언부분에 맞게 실제 동작하는 코드를 구현하는 단계입니다. 구현해야 할 롤링 효과가 총 4개이니 오브젝트 리터럴 방식으로 다음과 같이 만들어 줍니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 아래에서 위로 롤링되는 효과</span></span><br><span class="line">BTRollingEffect = &#123;</span><br><span class="line">    effect:<span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 다음 배너 위치 초기화</span></span><br><span class="line">        info.$inBanner.css(&#123;</span><br><span class="line">            top:info.bannerHeight,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">        info.$outBanner.stop().animate(&#123;</span><br><span class="line">            top:-info.bannerHeight,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">        info.$inBanner.stop().animate(&#123;</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">1</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 위에서 아래로 롤링되는 효과</span></span><br><span class="line">TBRollingEffect = &#123;</span><br><span class="line">    effect:<span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 다음 배너 위치 초기화</span></span><br><span class="line">        info.$inBanner.css(&#123;</span><br><span class="line">            top:-info.bannerHeight,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">        info.$outBanner.stop().animate(&#123;</span><br><span class="line">            top:info.bannerHeight,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">        info.$inBanner.stop().animate(&#123;</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">1</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 왼쪽에서 오른쪽으로 롤링되는 효과</span></span><br><span class="line">LRRollingEffect = &#123;</span><br><span class="line">    effect:<span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 다음 배너 위치 초기화</span></span><br><span class="line">        info.$inBanner.css(&#123;</span><br><span class="line">            left:-info.bannerWidth,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">        info.$outBanner.stop().animate(&#123;</span><br><span class="line">            left:info.bannerWidth,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">        info.$inBanner.stop().animate(&#123;</span><br><span class="line">            left:<span class="number">0</span>,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">1</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;info - &quot;</span>,info);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 오른쪽에서 왼쪽으로 롤링되는 효과</span></span><br><span class="line">RLRollingEffect = &#123;</span><br><span class="line">    effect:<span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 다음 배너 위치 초기화</span></span><br><span class="line">        info.$inBanner.css(&#123;</span><br><span class="line">            left:info.bannerWidth,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">        info.$outBanner.stop().animate(&#123;</span><br><span class="line">            left:-info.bannerWidth,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">        info.$inBanner.stop().animate(&#123;</span><br><span class="line">            left:<span class="number">0</span>,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">1</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>설명</strong></p>
<ul>
<li>2번 라인: 리터럴 오브젝트 방식으로 아래에서 위로 롤링되는 효과를 구현합니다.</li>
<li>25번 라인: 리터럴 오브젝트 방식으로 위에서 아래로 롤링되는 효과를 구현합니다.</li>
<li>48번 라인: 리터럴 오브젝트 방식으로 왼쪽에서 오른쪽으로 롤링되는 효과를 구현합니다.</li>
<li>75번 라인: 리터럴 오브젝트 방식으로 오른쪽에서 왼쪽으로 롤링되는 효과를 구현합니다.</li>
</ul>
<p><br><br></p>
<p><strong>3. 롤링 배너에 롤링 효과 연결(합성)해서 사용하기</strong><br>이번 단계에서는 롤링 배너 객체에 롤링 효과를 합성해 사용할 수 있게 만드는 작업을 구현해 보겠습니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 인스턴스 생성</span></span><br><span class="line">    <span class="keyword">var</span> rolling1 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner1&quot;</span>, <span class="number">2000</span>,<span class="number">600</span>, BTRollingEffect);</span><br><span class="line">    <span class="keyword">var</span> rolling2 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner2&quot;</span>, <span class="number">2000</span>,<span class="number">600</span>, TBRollingEffect);</span><br><span class="line">    <span class="keyword">var</span> rolling3 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner3&quot;</span>, <span class="number">2000</span>,<span class="number">600</span>, RLRollingEffect);</span><br><span class="line">    <span class="keyword">var</span> rolling4 = <span class="keyword">new</span> RollingBanner(<span class="string">&quot;.banner4&quot;</span>, <span class="number">2000</span>,<span class="number">600</span>, LRRollingEffect);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RollingBanner</span>(<span class="params">selector, playSpeed, rollingSpeed, effect</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 프로퍼티 생성및 초기화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._timerID = -<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// step #02</span></span><br><span class="line">    <span class="built_in">this</span>._bannerHeight=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._playSpeed = playSpeed;</span><br><span class="line">    <span class="built_in">this</span>._rollingSpeed = rollingSpeed;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 롤링효과 인스턴스를 저장할 변수</span></span><br><span class="line">    <span class="built_in">this</span>._effect =effect;</span><br><span class="line">    <span class="built_in">this</span>._bannerWidth = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>._init(selector);</span><br><span class="line">    <span class="built_in">this</span>._initEvent();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 초기화및 롤링배너 시작</span></span><br><span class="line">RollingBanner.prototype._start = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._initBannerPos();</span><br><span class="line">    <span class="built_in">this</span>.startAutoPlay();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 요소 초기화.</span></span><br><span class="line">RollingBanner.prototype._init = <span class="function"><span class="keyword">function</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>._$banners = $(selector).children(<span class="string">&quot;img&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 이벤트 처리</span></span><br><span class="line">RollingBanner.prototype._initEvent = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> objThis = <span class="built_in">this</span>;</span><br><span class="line">    <span class="built_in">this</span>._$banners.eq(<span class="number">0</span>).one(<span class="string">&quot;load&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        objThis._bannerHeight= $(<span class="built_in">this</span>).height();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 배너 너비 구하기</span></span><br><span class="line">        objThis._bannerWidth = $(<span class="built_in">this</span>).width();</span><br><span class="line">        objThis._start();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 배너 위치 초기화</span></span><br><span class="line">RollingBanner.prototype._initBannerPos = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 배너 위치를 화면에서 보이지 않게 숨기기</span></span><br><span class="line">    <span class="comment">// step #02</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.css(<span class="string">&quot;top&quot;</span>, <span class="built_in">this</span>._bannerHeight);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 0번째 배너 활성화</span></span><br><span class="line">    <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex).css(<span class="string">&quot;top&quot;</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">RollingBanner.prototype.startAutoPlay = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> objThis = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 타이머가 두번 이상 실행되지 않게 조건 처리</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._timerID == -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>._timerID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            objThis.nextBanner();</span><br><span class="line">        &#125;, <span class="built_in">this</span>._playSpeed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 다음 배너 활성화</span></span><br><span class="line">RollingBanner.prototype.nextBanner = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 index값 구하기</span></span><br><span class="line">    <span class="keyword">var</span> outIndex = <span class="built_in">this</span>._currentIndex;</span><br><span class="line">    <span class="comment">// 다음 배너 index값 구하기</span></span><br><span class="line">    <span class="built_in">this</span>._currentIndex++;</span><br><span class="line">    <span class="comment">// 마지막 배너까지 롤링한 경우 다시 0번째부터 롤링될 수 있게 인덱스 값을 0으로 설정</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>._currentIndex &gt;= <span class="built_in">this</span>._$banners.length) &#123;</span><br><span class="line">        <span class="built_in">this</span>._currentIndex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 현재 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $outBanner = <span class="built_in">this</span>._$banners.eq(outIndex);</span><br><span class="line">    <span class="comment">// 다음 배너 구하기</span></span><br><span class="line">    <span class="keyword">var</span> $inBanner = <span class="built_in">this</span>._$banners.eq(<span class="built_in">this</span>._currentIndex);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;___________&#x27;</span>, outIndex, <span class="built_in">this</span>._currentIndex);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    // 롤링 준비-다음 배너 위치 초기화</span></span><br><span class="line"><span class="comment">    $inBanner.css(&#123;</span></span><br><span class="line"><span class="comment">        top:this._bannerHeight,</span></span><br><span class="line"><span class="comment">        opacity:0</span></span><br><span class="line"><span class="comment">    &#125;)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    // 현재 배너 사라지게 하기</span></span><br><span class="line"><span class="comment">    $outBanner.stop().animate(&#123;</span></span><br><span class="line"><span class="comment">        top:-this._bannerHeight,</span></span><br><span class="line"><span class="comment">        opacity:0</span></span><br><span class="line"><span class="comment">    &#125;,this._rollingSpeed);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    // 다음 배너 나타나게 하기</span></span><br><span class="line"><span class="comment">    $inBanner.stop().animate(&#123;</span></span><br><span class="line"><span class="comment">        top:0,</span></span><br><span class="line"><span class="comment">        opacity:1</span></span><br><span class="line"><span class="comment">    &#125;,this._rollingSpeed);</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>._effect)&#123;</span><br><span class="line">        <span class="comment">// 롤링 효과로 넘길 데이터 만들기</span></span><br><span class="line">        <span class="keyword">var</span> info = &#123;</span><br><span class="line">            <span class="string">&quot;$inBanner&quot;</span>:$inBanner,</span><br><span class="line">            <span class="string">&quot;$outBanner&quot;</span>:$outBanner,</span><br><span class="line">            bannerWidth:<span class="built_in">this</span>._bannerWidth,</span><br><span class="line">            bannerHeight:<span class="built_in">this</span>._bannerHeight,</span><br><span class="line">            speed:<span class="built_in">this</span>._rollingSpeed</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 롤링 효과 호출</span></span><br><span class="line">        <span class="built_in">this</span>._effect.effect(info);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;아직 롤링 효과가 연결되지 않았습니다.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 아래에서 위로 롤링되는 효과</span></span><br><span class="line">BTRollingEffect = &#123;</span><br><span class="line">    effect:<span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 다음 배너 위치 초기화</span></span><br><span class="line">        info.$inBanner.css(&#123;</span><br><span class="line">            top:info.bannerHeight,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">        info.$outBanner.stop().animate(&#123;</span><br><span class="line">            top:-info.bannerHeight,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">        info.$inBanner.stop().animate(&#123;</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">1</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 위에서 아래로 롤링되는 효과</span></span><br><span class="line">TBRollingEffect = &#123;</span><br><span class="line">    effect:<span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 다음 배너 위치 초기화</span></span><br><span class="line">        info.$inBanner.css(&#123;</span><br><span class="line">            top:-info.bannerHeight,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">        info.$outBanner.stop().animate(&#123;</span><br><span class="line">            top:info.bannerHeight,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">        info.$inBanner.stop().animate(&#123;</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">1</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 왼쪽에서 오른쪽으로 롤링되는 효과</span></span><br><span class="line">LRRollingEffect = &#123;</span><br><span class="line">    effect:<span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 다음 배너 위치 초기화</span></span><br><span class="line">        info.$inBanner.css(&#123;</span><br><span class="line">            left:-info.bannerWidth,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">        info.$outBanner.stop().animate(&#123;</span><br><span class="line">            left:info.bannerWidth,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">        info.$inBanner.stop().animate(&#123;</span><br><span class="line">            left:<span class="number">0</span>,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">1</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;info - &quot;</span>,info);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 오른쪽에서 왼쪽으로 롤링되는 효과</span></span><br><span class="line">RLRollingEffect = &#123;</span><br><span class="line">    effect:<span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 다음 배너 위치 초기화</span></span><br><span class="line">        info.$inBanner.css(&#123;</span><br><span class="line">            left:info.bannerWidth,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 현재 배너 사라지게 하기</span></span><br><span class="line">        info.$outBanner.stop().animate(&#123;</span><br><span class="line">            left:-info.bannerWidth,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">0</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 다음 배너 나타나게 하기</span></span><br><span class="line">        info.$inBanner.stop().animate(&#123;</span><br><span class="line">            left:<span class="number">0</span>,</span><br><span class="line">            top:<span class="number">0</span>,</span><br><span class="line">            opacity:<span class="number">1</span></span><br><span class="line">        &#125;,info.speed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<ul>
<li><a href="/2018/02/05/%EC%A0%88%EC%B0%A8%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-VS-%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/" title="[객체지향 프로그래밍 기초] 절차지향 프로그래밍 VS 객체지향 프로그래밍">[객체지향 프로그래밍 기초] 절차지향 프로그래밍 VS 객체지향 프로그래밍</a></li>
<li><a href="/2018/02/11/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%98-%ED%8A%B9%EC%A7%95/" title="[객체지향 프로그래밍 기초] 객체지향 프로그래밍의 특징">[객체지향 프로그래밍 기초] 객체지향 프로그래밍의 특징</a></li>
<li><a href="/2018/02/11/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%96%B8%EC%96%B4%EC%97%90%EC%84%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EB%8A%94-%EA%B8%B0%EB%B3%B8-%EA%B8%B0%EB%8A%A5/" title="[객체지향 프로그래밍 기초] 객체지향 프로그래밍 언어에서 제공하는 기본 기능">[객체지향 프로그래밍 기초] 객체지향 프로그래밍 언어에서 제공하는 기본 기능</a></li>
<li><a href="/2018/02/15/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%B6%94%EC%83%81%ED%99%94-%EC%86%8C%EA%B0%9C/" title="[객체지향 프로그래밍 특징] 추상화 소개">[객체지향 프로그래밍 특징] 추상화 소개</a></li>
<li><a href="/2018/02/16/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C-%EC%B6%94%EC%83%81%ED%99%94/" title="[객체지향 프로그래밍 특징] 자바스크립트에서 추상화">[객체지향 프로그래밍 특징] 자바스크립트에서 추상화</a></li>
<li><a href="/2018/02/16/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%BA%A1%EC%8A%90%ED%99%94-%EC%86%8C%EA%B0%9C/" title="[객체지향 프로그래밍 특징] 캡슐화 소개">[객체지향 프로그래밍 특징] 캡슐화 소개</a></li>
<li><a href="/2018/02/16/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C%EC%9D%98-%EC%BA%A1%EC%8A%90%ED%99%94/" title="[객체지향 프로그래밍 특징] 자바스크립트에서의 캡슐화">[객체지향 프로그래밍 특징] 자바스크립트에서의 캡슐화</a></li>
<li><a href="/2018/02/17/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D-%EC%86%8C%EA%B0%9C/" title="[객체지향 프로그래밍 특징] 클래스 상속 소개">[객체지향 프로그래밍 특징] 클래스 상속 소개</a></li>
<li><a href="/2018/02/25/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D-%EA%B8%B0%EB%8A%A5/" title="[객체지향 프로그래밍 특징] 클래스 상속 기능">[객체지향 프로그래밍 특징] 클래스 상속 기능</a></li>
<li><a href="/2018/02/28/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D/" title="[객체지향 프로그래밍 특징] 자바스크립트에서 클래스 상속">[객체지향 프로그래밍 특징] 자바스크립트에서 클래스 상속</a></li>
<li><a href="/2018/03/05/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EC%8B%9D-%ED%81%B4%EB%9E%98%EC%8A%A4%EC%99%80-%EB%B6%80%EB%AA%A8-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%97%B0%EB%8F%99-%EC%B2%98%EB%A6%AC/" title="[객체지향 프로그래밍 특징] 자식 클래스와 부모 클래스 연동 처리">[객체지향 프로그래밍 특징] 자식 클래스와 부모 클래스 연동 처리</a></li>
<li><a href="/2018/03/12/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%98%A4%EB%B2%84%EB%9D%BC%EC%9D%B4%EB%93%9C/" title="[객체지향 프로그래밍 특징] 자바스크립트에서 메서드 오버라이드">[객체지향 프로그래밍 특징] 자바스크립트에서 메서드 오버라이드</a></li>
<li><a href="/2018/03/12/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%98%A4%EB%B2%84%EB%A1%9C%EB%94%A9/" title="[객체지향 프로그래밍 특징] 자바스크립트에서 메서드 오버로딩">[객체지향 프로그래밍 특징] 자바스크립트에서 메서드 오버로딩</a></li>
<li><a href="/2018/03/16/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-constructor-%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0-%ED%99%9C%EC%9A%A9/" title="[객체지향 프로그래밍 특징] constructor 프로퍼티 활용">[객체지향 프로그래밍 특징] constructor 프로퍼티 활용</a></li>
<li><a href="/2018/03/17/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D-%EA%B7%9C%EC%B9%99/" title="[객체지향 프로그래밍 특징] 클래스 상속 규칙">[객체지향 프로그래밍 특징] 클래스 상속 규칙</a></li>
<li><a href="/2018/03/17/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EB%8B%A4%ED%98%95%EC%84%B1-%EC%86%8C%EA%B0%9C/" title="[객체지향 프로그래밍 특징] 다형성 소개">[객체지향 프로그래밍 특징] 다형성 소개</a></li>
<li><a href="/2018/03/18/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EB%8B%A4%ED%98%95%EC%84%B1%EA%B3%BC-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%83%80%EC%9E%85%EA%B3%BC%EC%9D%98-%EA%B4%80%EA%B3%84/" title="[객체지향 프로그래밍 특징] 다형성과 데이터 타입과의 관계">[객체지향 프로그래밍 특징] 다형성과 데이터 타입과의 관계</a></li>
<li><a href="/2018/03/20/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C-%EB%8B%A4%ED%98%95%EC%84%B1/" title="[객체지향 프로그래밍 특징] 자바스크립트에서 다형성">[객체지향 프로그래밍 특징] 자바스크립트에서 다형성</a></li>
<li><a href="/2018/03/28/%ED%95%A9%EC%84%B1-%EC%86%8C%EA%B0%9C/" title="합성 소개">합성 소개</a></li>
<li><a href="/2018/03/30/%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D-VS-%ED%95%A9%EC%84%B1/" title="클래스 상속 VS 합성">클래스 상속 VS 합성</a></li>
</ul>

        </div>
        <footer class="article-footer">
            



    <!-- <a data-url="https://recoveryman.github.io/2018/03/30/%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D-VS-%ED%95%A9%EC%84%B1/" data-id="ckjgn8kko0038yw7khcueckr2" class="article-share-link"><i class="fa fa-share"></i>공유하기</a> -->
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>


                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>팔로우:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="https://twitter.com/recoveryman6" target="_blank">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="https://facebook.com/100012313809406" target="_blank">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/recoveryman/recoveryman.github.io" target="_blank">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2018/08/20/%EC%84%B1%EB%8A%A5-%EC%93%B0%EB%A1%9C%ED%8B%80%EB%A7%81%EA%B3%BC-%EB%94%94%EB%B0%94%EC%9A%B4%EC%8B%B1/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">새로운</strong>
        <p class="article-nav-title">
        
            [성능] 쓰로틀링과 디바운싱
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2018/03/28/%ED%95%A9%EC%84%B1-%EC%86%8C%EA%B0%9C/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">오래된</strong>
        <p class="article-nav-title">합성 소개</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">최근 글</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/08/20/%EC%84%B1%EB%8A%A5-%EC%93%B0%EB%A1%9C%ED%8B%80%EB%A7%81%EA%B3%BC-%EB%94%94%EB%B0%94%EC%9A%B4%EC%8B%B1/" class="thumbnail">
    
    
        <span style="background-image:url(/img/all/js_image.jpg)" alt="[성능] 쓰로틀링과 디바운싱" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/JS/">JS</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/JS/%EB%A7%88%ED%81%AC%EC%97%85%EB%B6%80%ED%84%B0-%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94-UI/">마크업부터 시작하는 UI</a></p>
                            <p class="item-title"><a href="/2018/08/20/%EC%84%B1%EB%8A%A5-%EC%93%B0%EB%A1%9C%ED%8B%80%EB%A7%81%EA%B3%BC-%EB%94%94%EB%B0%94%EC%9A%B4%EC%8B%B1/" class="title">[성능] 쓰로틀링과 디바운싱</a></p>
                            <p class="item-date"><time datetime="2018-08-20T07:34:07.000Z" itemprop="datePublished">2018-08-20</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/03/30/%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D-VS-%ED%95%A9%EC%84%B1/" class="thumbnail">
    
    
        <span style="background-image:url(/img/all/js_image.jpg)" alt="클래스 상속 VS 합성" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/JS/">JS</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/JS/js-%ED%95%99%EC%8A%B5/">js 학습</a></p>
                            <p class="item-title"><a href="/2018/03/30/%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D-VS-%ED%95%A9%EC%84%B1/" class="title">클래스 상속 VS 합성</a></p>
                            <p class="item-date"><time datetime="2018-03-30T00:50:49.000Z" itemprop="datePublished">2018-03-30</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/03/28/%ED%95%A9%EC%84%B1-%EC%86%8C%EA%B0%9C/" class="thumbnail">
    
    
        <span style="background-image:url(/img/all/js_image.jpg)" alt="합성 소개" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/JS/">JS</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/JS/js-%ED%95%99%EC%8A%B5/">js 학습</a></p>
                            <p class="item-title"><a href="/2018/03/28/%ED%95%A9%EC%84%B1-%EC%86%8C%EA%B0%9C/" class="title">합성 소개</a></p>
                            <p class="item-date"><time datetime="2018-03-27T23:51:24.000Z" itemprop="datePublished">2018-03-28</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/03/20/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C-%EB%8B%A4%ED%98%95%EC%84%B1/" class="thumbnail">
    
    
        <span style="background-image:url(/img/all/js_image.jpg)" alt="[객체지향 프로그래밍 특징] 자바스크립트에서 다형성" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/JS/">JS</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/JS/js-%ED%95%99%EC%8A%B5/">js 학습</a></p>
                            <p class="item-title"><a href="/2018/03/20/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C-%EB%8B%A4%ED%98%95%EC%84%B1/" class="title">[객체지향 프로그래밍 특징] 자바스크립트에서 다형성</a></p>
                            <p class="item-date"><time datetime="2018-03-19T15:00:58.000Z" itemprop="datePublished">2018-03-20</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/03/18/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EB%8B%A4%ED%98%95%EC%84%B1%EA%B3%BC-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%83%80%EC%9E%85%EA%B3%BC%EC%9D%98-%EA%B4%80%EA%B3%84/" class="thumbnail">
    
    
        <span style="background-image:url(/img/all/js_image.jpg)" alt="[객체지향 프로그래밍 특징] 다형성과 데이터 타입과의 관계" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/JS/">JS</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/JS/js-%ED%95%99%EC%8A%B5/">js 학습</a></p>
                            <p class="item-title"><a href="/2018/03/18/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%8A%B9%EC%A7%95-%EB%8B%A4%ED%98%95%EC%84%B1%EA%B3%BC-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%83%80%EC%9E%85%EA%B3%BC%EC%9D%98-%EA%B4%80%EA%B3%84/" class="title">[객체지향 프로그래밍 특징] 다형성과 데이터 타입과의 관계</a></p>
                            <p class="item-date"><time datetime="2018-03-18T14:16:24.000Z" itemprop="datePublished">2018-03-18</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">카테고리</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JS/">JS</a><span class="category-list-count">36</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JS/js-%ED%95%99%EC%8A%B5/">js 학습</a><span class="category-list-count">33</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JS/js-%ED%95%99%EC%8A%B5/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/">객체지향 프로그래밍</a><span class="category-list-count">20</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/%EB%A7%88%ED%81%AC%EC%97%85%EB%B6%80%ED%84%B0-%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94-UI/">마크업부터 시작하는 UI</a><span class="category-list-count">3</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">아카이브</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">8월 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">3월 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">2월 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">1월 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">12월 2017</a><span class="archive-list-count">10</span></li></ul>
        </div>
    </div>


            
                

            
                

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">링크</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a target="_blank" rel="noopener" href="http://recoveryman.tistory.com">Tistory</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2021 회복맨</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'recoveryman';
    
    
    var disqus_url = 'https://recoveryman.github.io/2018/03/30/%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%81%EC%86%8D-VS-%ED%95%A9%EC%84%B1/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


    </div>
</body>
</html>
